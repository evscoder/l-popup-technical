{"version":3,"file":"vendor.js","mappings":"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","sources":["webpack://awesome_project/./node_modules/parallax-js/dist/parallax.js","webpack://awesome_project/./node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack://awesome_project/./node_modules/@babel/runtime/helpers/esm/createClass.js","webpack://awesome_project/./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack://awesome_project/./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","webpack://awesome_project/./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack://awesome_project/./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack://awesome_project/./node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack://awesome_project/./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","webpack://awesome_project/./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webpack://awesome_project/./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack://awesome_project/./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","webpack://awesome_project/./node_modules/@babel/runtime/helpers/esm/toPrimitive.js","webpack://awesome_project/./node_modules/imask/esm/core/utils.js","webpack://awesome_project/./node_modules/imask/esm/core/action-details.js","webpack://awesome_project/./node_modules/imask/esm/core/holder.js","webpack://awesome_project/./node_modules/imask/esm/masked/factory.js","webpack://awesome_project/./node_modules/imask/esm/controls/mask-element.js","webpack://awesome_project/./node_modules/imask/esm/controls/html-mask-element.js","webpack://awesome_project/./node_modules/imask/esm/controls/html-input-mask-element.js","webpack://awesome_project/./node_modules/imask/esm/controls/html-contenteditable-mask-element.js","webpack://awesome_project/./node_modules/imask/esm/controls/input.js","webpack://awesome_project/./node_modules/imask/esm/core/change-details.js","webpack://awesome_project/./node_modules/imask/esm/core/continuous-tail-details.js","webpack://awesome_project/./node_modules/imask/esm/masked/base.js","webpack://awesome_project/./node_modules/imask/esm/masked/pattern/chunk-tail-details.js","webpack://awesome_project/./node_modules/imask/esm/masked/pattern/cursor.js","webpack://awesome_project/./node_modules/imask/esm/masked/pattern/fixed-definition.js","webpack://awesome_project/./node_modules/imask/esm/masked/pattern/input-definition.js","webpack://awesome_project/./node_modules/imask/esm/masked/regexp.js","webpack://awesome_project/./node_modules/imask/esm/masked/pattern.js","webpack://awesome_project/./node_modules/imask/esm/masked/range.js","webpack://awesome_project/./node_modules/imask/esm/masked/date.js","webpack://awesome_project/./node_modules/imask/esm/masked/dynamic.js","webpack://awesome_project/./node_modules/imask/esm/masked/enum.js","webpack://awesome_project/./node_modules/imask/esm/masked/function.js","webpack://awesome_project/./node_modules/imask/esm/masked/number.js","webpack://awesome_project/./node_modules/imask/esm/masked/pipe.js","webpack://awesome_project/./node_modules/imask/esm/index.js"],"sourcesContent":["(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.Parallax = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n\n},{}],2:[function(require,module,exports){\n(function (process){\n// Generated by CoffeeScript 1.12.2\n(function() {\n  var getNanoSeconds, hrtime, loadTime, moduleLoadTime, nodeLoadTime, upTime;\n\n  if ((typeof performance !== \"undefined\" && performance !== null) && performance.now) {\n    module.exports = function() {\n      return performance.now();\n    };\n  } else if ((typeof process !== \"undefined\" && process !== null) && process.hrtime) {\n    module.exports = function() {\n      return (getNanoSeconds() - nodeLoadTime) / 1e6;\n    };\n    hrtime = process.hrtime;\n    getNanoSeconds = function() {\n      var hr;\n      hr = hrtime();\n      return hr[0] * 1e9 + hr[1];\n    };\n    moduleLoadTime = getNanoSeconds();\n    upTime = process.uptime() * 1e9;\n    nodeLoadTime = moduleLoadTime - upTime;\n  } else if (Date.now) {\n    module.exports = function() {\n      return Date.now() - loadTime;\n    };\n    loadTime = Date.now();\n  } else {\n    module.exports = function() {\n      return new Date().getTime() - loadTime;\n    };\n    loadTime = new Date().getTime();\n  }\n\n}).call(this);\n\n\n\n}).call(this,require('_process'))\n\n},{\"_process\":3}],3:[function(require,module,exports){\n// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n},{}],4:[function(require,module,exports){\n(function (global){\nvar now = require('performance-now')\n  , root = typeof window === 'undefined' ? global : window\n  , vendors = ['moz', 'webkit']\n  , suffix = 'AnimationFrame'\n  , raf = root['request' + suffix]\n  , caf = root['cancel' + suffix] || root['cancelRequest' + suffix]\n\nfor(var i = 0; !raf && i < vendors.length; i++) {\n  raf = root[vendors[i] + 'Request' + suffix]\n  caf = root[vendors[i] + 'Cancel' + suffix]\n      || root[vendors[i] + 'CancelRequest' + suffix]\n}\n\n// Some versions of FF have rAF but not cAF\nif(!raf || !caf) {\n  var last = 0\n    , id = 0\n    , queue = []\n    , frameDuration = 1000 / 60\n\n  raf = function(callback) {\n    if(queue.length === 0) {\n      var _now = now()\n        , next = Math.max(0, frameDuration - (_now - last))\n      last = next + _now\n      setTimeout(function() {\n        var cp = queue.slice(0)\n        // Clear queue here to prevent\n        // callbacks from appending listeners\n        // to the current frame's queue\n        queue.length = 0\n        for(var i = 0; i < cp.length; i++) {\n          if(!cp[i].cancelled) {\n            try{\n              cp[i].callback(last)\n            } catch(e) {\n              setTimeout(function() { throw e }, 0)\n            }\n          }\n        }\n      }, Math.round(next))\n    }\n    queue.push({\n      handle: ++id,\n      callback: callback,\n      cancelled: false\n    })\n    return id\n  }\n\n  caf = function(handle) {\n    for(var i = 0; i < queue.length; i++) {\n      if(queue[i].handle === handle) {\n        queue[i].cancelled = true\n      }\n    }\n  }\n}\n\nmodule.exports = function(fn) {\n  // Wrap in a new function to prevent\n  // `cancel` potentially being assigned\n  // to the native rAF function\n  return raf.call(root, fn)\n}\nmodule.exports.cancel = function() {\n  caf.apply(root, arguments)\n}\nmodule.exports.polyfill = function() {\n  root.requestAnimationFrame = raf\n  root.cancelAnimationFrame = caf\n}\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{\"performance-now\":2}],5:[function(require,module,exports){\n'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n* Parallax.js\n* @author Matthew Wagerfield - @wagerfield, René Roth - mail@reneroth.org\n* @description Creates a parallax effect between an array of layers,\n*              driving the motion from the gyroscope output of a smartdevice.\n*              If no gyroscope is available, the cursor position is used.\n*/\n\nvar rqAnFr = require('raf');\nvar objectAssign = require('object-assign');\n\nvar helpers = {\n  propertyCache: {},\n  vendors: [null, ['-webkit-', 'webkit'], ['-moz-', 'Moz'], ['-o-', 'O'], ['-ms-', 'ms']],\n\n  clamp: function clamp(value, min, max) {\n    return min < max ? value < min ? min : value > max ? max : value : value < max ? max : value > min ? min : value;\n  },\n  data: function data(element, name) {\n    return helpers.deserialize(element.getAttribute('data-' + name));\n  },\n  deserialize: function deserialize(value) {\n    if (value === 'true') {\n      return true;\n    } else if (value === 'false') {\n      return false;\n    } else if (value === 'null') {\n      return null;\n    } else if (!isNaN(parseFloat(value)) && isFinite(value)) {\n      return parseFloat(value);\n    } else {\n      return value;\n    }\n  },\n  camelCase: function camelCase(value) {\n    return value.replace(/-+(.)?/g, function (match, character) {\n      return character ? character.toUpperCase() : '';\n    });\n  },\n  accelerate: function accelerate(element) {\n    helpers.css(element, 'transform', 'translate3d(0,0,0) rotate(0.0001deg)');\n    helpers.css(element, 'transform-style', 'preserve-3d');\n    helpers.css(element, 'backface-visibility', 'hidden');\n  },\n  transformSupport: function transformSupport(value) {\n    var element = document.createElement('div'),\n        propertySupport = false,\n        propertyValue = null,\n        featureSupport = false,\n        cssProperty = null,\n        jsProperty = null;\n    for (var i = 0, l = helpers.vendors.length; i < l; i++) {\n      if (helpers.vendors[i] !== null) {\n        cssProperty = helpers.vendors[i][0] + 'transform';\n        jsProperty = helpers.vendors[i][1] + 'Transform';\n      } else {\n        cssProperty = 'transform';\n        jsProperty = 'transform';\n      }\n      if (element.style[jsProperty] !== undefined) {\n        propertySupport = true;\n        break;\n      }\n    }\n    switch (value) {\n      case '2D':\n        featureSupport = propertySupport;\n        break;\n      case '3D':\n        if (propertySupport) {\n          var body = document.body || document.createElement('body'),\n              documentElement = document.documentElement,\n              documentOverflow = documentElement.style.overflow,\n              isCreatedBody = false;\n\n          if (!document.body) {\n            isCreatedBody = true;\n            documentElement.style.overflow = 'hidden';\n            documentElement.appendChild(body);\n            body.style.overflow = 'hidden';\n            body.style.background = '';\n          }\n\n          body.appendChild(element);\n          element.style[jsProperty] = 'translate3d(1px,1px,1px)';\n          propertyValue = window.getComputedStyle(element).getPropertyValue(cssProperty);\n          featureSupport = propertyValue !== undefined && propertyValue.length > 0 && propertyValue !== 'none';\n          documentElement.style.overflow = documentOverflow;\n          body.removeChild(element);\n\n          if (isCreatedBody) {\n            body.removeAttribute('style');\n            body.parentNode.removeChild(body);\n          }\n        }\n        break;\n    }\n    return featureSupport;\n  },\n  css: function css(element, property, value) {\n    var jsProperty = helpers.propertyCache[property];\n    if (!jsProperty) {\n      for (var i = 0, l = helpers.vendors.length; i < l; i++) {\n        if (helpers.vendors[i] !== null) {\n          jsProperty = helpers.camelCase(helpers.vendors[i][1] + '-' + property);\n        } else {\n          jsProperty = property;\n        }\n        if (element.style[jsProperty] !== undefined) {\n          helpers.propertyCache[property] = jsProperty;\n          break;\n        }\n      }\n    }\n    element.style[jsProperty] = value;\n  }\n};\n\nvar MAGIC_NUMBER = 30,\n    DEFAULTS = {\n  relativeInput: false,\n  clipRelativeInput: false,\n  inputElement: null,\n  hoverOnly: false,\n  calibrationThreshold: 100,\n  calibrationDelay: 500,\n  supportDelay: 500,\n  calibrateX: false,\n  calibrateY: true,\n  invertX: true,\n  invertY: true,\n  limitX: false,\n  limitY: false,\n  scalarX: 10.0,\n  scalarY: 10.0,\n  frictionX: 0.1,\n  frictionY: 0.1,\n  originX: 0.5,\n  originY: 0.5,\n  pointerEvents: false,\n  precision: 1,\n  onReady: null,\n  selector: null\n};\n\nvar Parallax = function () {\n  function Parallax(element, options) {\n    _classCallCheck(this, Parallax);\n\n    this.element = element;\n\n    var data = {\n      calibrateX: helpers.data(this.element, 'calibrate-x'),\n      calibrateY: helpers.data(this.element, 'calibrate-y'),\n      invertX: helpers.data(this.element, 'invert-x'),\n      invertY: helpers.data(this.element, 'invert-y'),\n      limitX: helpers.data(this.element, 'limit-x'),\n      limitY: helpers.data(this.element, 'limit-y'),\n      scalarX: helpers.data(this.element, 'scalar-x'),\n      scalarY: helpers.data(this.element, 'scalar-y'),\n      frictionX: helpers.data(this.element, 'friction-x'),\n      frictionY: helpers.data(this.element, 'friction-y'),\n      originX: helpers.data(this.element, 'origin-x'),\n      originY: helpers.data(this.element, 'origin-y'),\n      pointerEvents: helpers.data(this.element, 'pointer-events'),\n      precision: helpers.data(this.element, 'precision'),\n      relativeInput: helpers.data(this.element, 'relative-input'),\n      clipRelativeInput: helpers.data(this.element, 'clip-relative-input'),\n      hoverOnly: helpers.data(this.element, 'hover-only'),\n      inputElement: document.querySelector(helpers.data(this.element, 'input-element')),\n      selector: helpers.data(this.element, 'selector')\n    };\n\n    for (var key in data) {\n      if (data[key] === null) {\n        delete data[key];\n      }\n    }\n\n    objectAssign(this, DEFAULTS, data, options);\n\n    if (!this.inputElement) {\n      this.inputElement = this.element;\n    }\n\n    this.calibrationTimer = null;\n    this.calibrationFlag = true;\n    this.enabled = false;\n    this.depthsX = [];\n    this.depthsY = [];\n    this.raf = null;\n\n    this.bounds = null;\n    this.elementPositionX = 0;\n    this.elementPositionY = 0;\n    this.elementWidth = 0;\n    this.elementHeight = 0;\n\n    this.elementCenterX = 0;\n    this.elementCenterY = 0;\n\n    this.elementRangeX = 0;\n    this.elementRangeY = 0;\n\n    this.calibrationX = 0;\n    this.calibrationY = 0;\n\n    this.inputX = 0;\n    this.inputY = 0;\n\n    this.motionX = 0;\n    this.motionY = 0;\n\n    this.velocityX = 0;\n    this.velocityY = 0;\n\n    this.onMouseMove = this.onMouseMove.bind(this);\n    this.onDeviceOrientation = this.onDeviceOrientation.bind(this);\n    this.onDeviceMotion = this.onDeviceMotion.bind(this);\n    this.onOrientationTimer = this.onOrientationTimer.bind(this);\n    this.onMotionTimer = this.onMotionTimer.bind(this);\n    this.onCalibrationTimer = this.onCalibrationTimer.bind(this);\n    this.onAnimationFrame = this.onAnimationFrame.bind(this);\n    this.onWindowResize = this.onWindowResize.bind(this);\n\n    this.windowWidth = null;\n    this.windowHeight = null;\n    this.windowCenterX = null;\n    this.windowCenterY = null;\n    this.windowRadiusX = null;\n    this.windowRadiusY = null;\n    this.portrait = false;\n    this.desktop = !navigator.userAgent.match(/(iPhone|iPod|iPad|Android|BlackBerry|BB10|mobi|tablet|opera mini|nexus 7)/i);\n    this.motionSupport = !!window.DeviceMotionEvent && !this.desktop;\n    this.orientationSupport = !!window.DeviceOrientationEvent && !this.desktop;\n    this.orientationStatus = 0;\n    this.motionStatus = 0;\n\n    this.initialise();\n  }\n\n  _createClass(Parallax, [{\n    key: 'initialise',\n    value: function initialise() {\n      if (this.transform2DSupport === undefined) {\n        this.transform2DSupport = helpers.transformSupport('2D');\n        this.transform3DSupport = helpers.transformSupport('3D');\n      }\n\n      // Configure Context Styles\n      if (this.transform3DSupport) {\n        helpers.accelerate(this.element);\n      }\n\n      var style = window.getComputedStyle(this.element);\n      if (style.getPropertyValue('position') === 'static') {\n        this.element.style.position = 'relative';\n      }\n\n      // Pointer events\n      if (!this.pointerEvents) {\n        this.element.style.pointerEvents = 'none';\n      }\n\n      // Setup\n      this.updateLayers();\n      this.updateDimensions();\n      this.enable();\n      this.queueCalibration(this.calibrationDelay);\n    }\n  }, {\n    key: 'doReadyCallback',\n    value: function doReadyCallback() {\n      if (this.onReady) {\n        this.onReady();\n      }\n    }\n  }, {\n    key: 'updateLayers',\n    value: function updateLayers() {\n      if (this.selector) {\n        this.layers = this.element.querySelectorAll(this.selector);\n      } else {\n        this.layers = this.element.children;\n      }\n\n      if (!this.layers.length) {\n        console.warn('ParallaxJS: Your scene does not have any layers.');\n      }\n\n      this.depthsX = [];\n      this.depthsY = [];\n\n      for (var index = 0; index < this.layers.length; index++) {\n        var layer = this.layers[index];\n\n        if (this.transform3DSupport) {\n          helpers.accelerate(layer);\n        }\n\n        layer.style.position = index ? 'absolute' : 'relative';\n        layer.style.display = 'block';\n        layer.style.left = 0;\n        layer.style.top = 0;\n\n        var depth = helpers.data(layer, 'depth') || 0;\n        this.depthsX.push(helpers.data(layer, 'depth-x') || depth);\n        this.depthsY.push(helpers.data(layer, 'depth-y') || depth);\n      }\n    }\n  }, {\n    key: 'updateDimensions',\n    value: function updateDimensions() {\n      this.windowWidth = window.innerWidth;\n      this.windowHeight = window.innerHeight;\n      this.windowCenterX = this.windowWidth * this.originX;\n      this.windowCenterY = this.windowHeight * this.originY;\n      this.windowRadiusX = Math.max(this.windowCenterX, this.windowWidth - this.windowCenterX);\n      this.windowRadiusY = Math.max(this.windowCenterY, this.windowHeight - this.windowCenterY);\n    }\n  }, {\n    key: 'updateBounds',\n    value: function updateBounds() {\n      this.bounds = this.inputElement.getBoundingClientRect();\n      this.elementPositionX = this.bounds.left;\n      this.elementPositionY = this.bounds.top;\n      this.elementWidth = this.bounds.width;\n      this.elementHeight = this.bounds.height;\n      this.elementCenterX = this.elementWidth * this.originX;\n      this.elementCenterY = this.elementHeight * this.originY;\n      this.elementRangeX = Math.max(this.elementCenterX, this.elementWidth - this.elementCenterX);\n      this.elementRangeY = Math.max(this.elementCenterY, this.elementHeight - this.elementCenterY);\n    }\n  }, {\n    key: 'queueCalibration',\n    value: function queueCalibration(delay) {\n      clearTimeout(this.calibrationTimer);\n      this.calibrationTimer = setTimeout(this.onCalibrationTimer, delay);\n    }\n  }, {\n    key: 'enable',\n    value: function enable() {\n      if (this.enabled) {\n        return;\n      }\n      this.enabled = true;\n\n      if (this.orientationSupport) {\n        this.portrait = false;\n        window.addEventListener('deviceorientation', this.onDeviceOrientation);\n        this.detectionTimer = setTimeout(this.onOrientationTimer, this.supportDelay);\n      } else if (this.motionSupport) {\n        this.portrait = false;\n        window.addEventListener('devicemotion', this.onDeviceMotion);\n        this.detectionTimer = setTimeout(this.onMotionTimer, this.supportDelay);\n      } else {\n        this.calibrationX = 0;\n        this.calibrationY = 0;\n        this.portrait = false;\n        window.addEventListener('mousemove', this.onMouseMove);\n        this.doReadyCallback();\n      }\n\n      window.addEventListener('resize', this.onWindowResize);\n      this.raf = rqAnFr(this.onAnimationFrame);\n    }\n  }, {\n    key: 'disable',\n    value: function disable() {\n      if (!this.enabled) {\n        return;\n      }\n      this.enabled = false;\n\n      if (this.orientationSupport) {\n        window.removeEventListener('deviceorientation', this.onDeviceOrientation);\n      } else if (this.motionSupport) {\n        window.removeEventListener('devicemotion', this.onDeviceMotion);\n      } else {\n        window.removeEventListener('mousemove', this.onMouseMove);\n      }\n\n      window.removeEventListener('resize', this.onWindowResize);\n      rqAnFr.cancel(this.raf);\n    }\n  }, {\n    key: 'calibrate',\n    value: function calibrate(x, y) {\n      this.calibrateX = x === undefined ? this.calibrateX : x;\n      this.calibrateY = y === undefined ? this.calibrateY : y;\n    }\n  }, {\n    key: 'invert',\n    value: function invert(x, y) {\n      this.invertX = x === undefined ? this.invertX : x;\n      this.invertY = y === undefined ? this.invertY : y;\n    }\n  }, {\n    key: 'friction',\n    value: function friction(x, y) {\n      this.frictionX = x === undefined ? this.frictionX : x;\n      this.frictionY = y === undefined ? this.frictionY : y;\n    }\n  }, {\n    key: 'scalar',\n    value: function scalar(x, y) {\n      this.scalarX = x === undefined ? this.scalarX : x;\n      this.scalarY = y === undefined ? this.scalarY : y;\n    }\n  }, {\n    key: 'limit',\n    value: function limit(x, y) {\n      this.limitX = x === undefined ? this.limitX : x;\n      this.limitY = y === undefined ? this.limitY : y;\n    }\n  }, {\n    key: 'origin',\n    value: function origin(x, y) {\n      this.originX = x === undefined ? this.originX : x;\n      this.originY = y === undefined ? this.originY : y;\n    }\n  }, {\n    key: 'setInputElement',\n    value: function setInputElement(element) {\n      this.inputElement = element;\n      this.updateDimensions();\n    }\n  }, {\n    key: 'setPosition',\n    value: function setPosition(element, x, y) {\n      x = x.toFixed(this.precision) + 'px';\n      y = y.toFixed(this.precision) + 'px';\n      if (this.transform3DSupport) {\n        helpers.css(element, 'transform', 'translate3d(' + x + ',' + y + ',0)');\n      } else if (this.transform2DSupport) {\n        helpers.css(element, 'transform', 'translate(' + x + ',' + y + ')');\n      } else {\n        element.style.left = x;\n        element.style.top = y;\n      }\n    }\n  }, {\n    key: 'onOrientationTimer',\n    value: function onOrientationTimer() {\n      if (this.orientationSupport && this.orientationStatus === 0) {\n        this.disable();\n        this.orientationSupport = false;\n        this.enable();\n      } else {\n        this.doReadyCallback();\n      }\n    }\n  }, {\n    key: 'onMotionTimer',\n    value: function onMotionTimer() {\n      if (this.motionSupport && this.motionStatus === 0) {\n        this.disable();\n        this.motionSupport = false;\n        this.enable();\n      } else {\n        this.doReadyCallback();\n      }\n    }\n  }, {\n    key: 'onCalibrationTimer',\n    value: function onCalibrationTimer() {\n      this.calibrationFlag = true;\n    }\n  }, {\n    key: 'onWindowResize',\n    value: function onWindowResize() {\n      this.updateDimensions();\n    }\n  }, {\n    key: 'onAnimationFrame',\n    value: function onAnimationFrame() {\n      this.updateBounds();\n      var calibratedInputX = this.inputX - this.calibrationX,\n          calibratedInputY = this.inputY - this.calibrationY;\n      if (Math.abs(calibratedInputX) > this.calibrationThreshold || Math.abs(calibratedInputY) > this.calibrationThreshold) {\n        this.queueCalibration(0);\n      }\n      if (this.portrait) {\n        this.motionX = this.calibrateX ? calibratedInputY : this.inputY;\n        this.motionY = this.calibrateY ? calibratedInputX : this.inputX;\n      } else {\n        this.motionX = this.calibrateX ? calibratedInputX : this.inputX;\n        this.motionY = this.calibrateY ? calibratedInputY : this.inputY;\n      }\n      this.motionX *= this.elementWidth * (this.scalarX / 100);\n      this.motionY *= this.elementHeight * (this.scalarY / 100);\n      if (!isNaN(parseFloat(this.limitX))) {\n        this.motionX = helpers.clamp(this.motionX, -this.limitX, this.limitX);\n      }\n      if (!isNaN(parseFloat(this.limitY))) {\n        this.motionY = helpers.clamp(this.motionY, -this.limitY, this.limitY);\n      }\n      this.velocityX += (this.motionX - this.velocityX) * this.frictionX;\n      this.velocityY += (this.motionY - this.velocityY) * this.frictionY;\n      for (var index = 0; index < this.layers.length; index++) {\n        var layer = this.layers[index],\n            depthX = this.depthsX[index],\n            depthY = this.depthsY[index],\n            xOffset = this.velocityX * (depthX * (this.invertX ? -1 : 1)),\n            yOffset = this.velocityY * (depthY * (this.invertY ? -1 : 1));\n        this.setPosition(layer, xOffset, yOffset);\n      }\n      this.raf = rqAnFr(this.onAnimationFrame);\n    }\n  }, {\n    key: 'rotate',\n    value: function rotate(beta, gamma) {\n      // Extract Rotation\n      var x = (beta || 0) / MAGIC_NUMBER,\n          //  -90 :: 90\n      y = (gamma || 0) / MAGIC_NUMBER; // -180 :: 180\n\n      // Detect Orientation Change\n      var portrait = this.windowHeight > this.windowWidth;\n      if (this.portrait !== portrait) {\n        this.portrait = portrait;\n        this.calibrationFlag = true;\n      }\n\n      if (this.calibrationFlag) {\n        this.calibrationFlag = false;\n        this.calibrationX = x;\n        this.calibrationY = y;\n      }\n\n      this.inputX = x;\n      this.inputY = y;\n    }\n  }, {\n    key: 'onDeviceOrientation',\n    value: function onDeviceOrientation(event) {\n      var beta = event.beta;\n      var gamma = event.gamma;\n      if (beta !== null && gamma !== null) {\n        this.orientationStatus = 1;\n        this.rotate(beta, gamma);\n      }\n    }\n  }, {\n    key: 'onDeviceMotion',\n    value: function onDeviceMotion(event) {\n      var beta = event.rotationRate.beta;\n      var gamma = event.rotationRate.gamma;\n      if (beta !== null && gamma !== null) {\n        this.motionStatus = 1;\n        this.rotate(beta, gamma);\n      }\n    }\n  }, {\n    key: 'onMouseMove',\n    value: function onMouseMove(event) {\n      var clientX = event.clientX,\n          clientY = event.clientY;\n\n      // reset input to center if hoverOnly is set and we're not hovering the element\n      if (this.hoverOnly && (clientX < this.elementPositionX || clientX > this.elementPositionX + this.elementWidth || clientY < this.elementPositionY || clientY > this.elementPositionY + this.elementHeight)) {\n        this.inputX = 0;\n        this.inputY = 0;\n        return;\n      }\n\n      if (this.relativeInput) {\n        // Clip mouse coordinates inside element bounds.\n        if (this.clipRelativeInput) {\n          clientX = Math.max(clientX, this.elementPositionX);\n          clientX = Math.min(clientX, this.elementPositionX + this.elementWidth);\n          clientY = Math.max(clientY, this.elementPositionY);\n          clientY = Math.min(clientY, this.elementPositionY + this.elementHeight);\n        }\n        // Calculate input relative to the element.\n        if (this.elementRangeX && this.elementRangeY) {\n          this.inputX = (clientX - this.elementPositionX - this.elementCenterX) / this.elementRangeX;\n          this.inputY = (clientY - this.elementPositionY - this.elementCenterY) / this.elementRangeY;\n        }\n      } else {\n        // Calculate input relative to the window.\n        if (this.windowRadiusX && this.windowRadiusY) {\n          this.inputX = (clientX - this.windowCenterX) / this.windowRadiusX;\n          this.inputY = (clientY - this.windowCenterY) / this.windowRadiusY;\n        }\n      }\n    }\n  }, {\n    key: 'destroy',\n    value: function destroy() {\n      this.disable();\n\n      clearTimeout(this.calibrationTimer);\n      clearTimeout(this.detectionTimer);\n\n      this.element.removeAttribute('style');\n      for (var index = 0; index < this.layers.length; index++) {\n        this.layers[index].removeAttribute('style');\n      }\n\n      delete this.element;\n      delete this.layers;\n    }\n  }, {\n    key: 'version',\n    value: function version() {\n      return '3.1.0';\n    }\n  }]);\n\n  return Parallax;\n}();\n\nmodule.exports = Parallax;\n\n},{\"object-assign\":1,\"raf\":4}]},{},[5])(5)\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvb2JqZWN0LWFzc2lnbi9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9wZXJmb3JtYW5jZS1ub3cvbGliL3BlcmZvcm1hbmNlLW5vdy5qcyIsIm5vZGVfbW9kdWxlcy9wcm9jZXNzL2Jyb3dzZXIuanMiLCJub2RlX21vZHVsZXMvcmFmL2luZGV4LmpzIiwic3JjL3BhcmFsbGF4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQzFGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQ3BDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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QUNEO0FBQ0Q7QUFDQSxZQUFHLEtBQUssYUFBTCxJQUFzQixLQUFLLGFBQTlCLEVBQTZDO0FBQzNDLGVBQUssTUFBTCxHQUFjLENBQUMsVUFBVSxLQUFLLGdCQUFmLEdBQWtDLEtBQUssY0FBeEMsSUFBMEQsS0FBSyxhQUE3RTtBQUNBLGVBQUssTUFBTCxHQUFjLENBQUMsVUFBVSxLQUFLLGdCQUFmLEdBQWtDLEtBQUssY0FBeEMsSUFBMEQsS0FBSyxhQUE3RTtBQUNEO0FBQ0YsT0FiRCxNQWFPO0FBQ0w7QUFDQSxZQUFHLEtBQUssYUFBTCxJQUFzQixLQUFLLGFBQTlCLEVBQTZDO0FBQzNDLGVBQUssTUFBTCxHQUFjLENBQUMsVUFBVSxLQUFLLGFBQWhCLElBQWlDLEtBQUssYUFBcEQ7QUFDQSxlQUFLLE1BQUwsR0FBYyxDQUFDLFVBQVUsS0FBSyxhQUFoQixJQUFpQyxLQUFLLGFBQXBEO0FBQ0Q7QUFDRjtBQUNGOzs7OEJBRVM7QUFDUixXQUFLLE9BQUw7O0FBRUEsbUJBQWEsS0FBSyxnQkFBbEI7QUFDQSxtQkFBYSxLQUFLLGNBQWxCOztBQUVBLFdBQUssT0FBTCxDQUFhLGVBQWIsQ0FBNkIsT0FBN0I7QUFDQSxXQUFLLElBQUksUUFBUSxDQUFqQixFQUFvQixRQUFRLEtBQUssTUFBTCxDQUFZLE1BQXhDLEVBQWdELE9BQWhELEVBQXlEO0FBQ3ZELGFBQUssTUFBTCxDQUFZLEtBQVosRUFBbUIsZUFBbkIsQ0FBbUMsT0FBbkM7QUFDRDs7QUFFRCxhQUFPLEtBQUssT0FBWjtBQUNBLGFBQU8sS0FBSyxNQUFaO0FBQ0Q7Ozs4QkFFUztBQUNSLGFBQU8sT0FBUDtBQUNEOzs7Ozs7QUFJSCxPQUFPLE9BQVAsR0FBaUIsUUFBakIiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiLypcbm9iamVjdC1hc3NpZ25cbihjKSBTaW5kcmUgU29yaHVzXG5AbGljZW5zZSBNSVRcbiovXG5cbid1c2Ugc3RyaWN0Jztcbi8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC12YXJzICovXG52YXIgZ2V0T3duUHJvcGVydHlTeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scztcbnZhciBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG52YXIgcHJvcElzRW51bWVyYWJsZSA9IE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGU7XG5cbmZ1bmN0aW9uIHRvT2JqZWN0KHZhbCkge1xuXHRpZiAodmFsID09PSBudWxsIHx8IHZhbCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignT2JqZWN0LmFzc2lnbiBjYW5ub3QgYmUgY2FsbGVkIHdpdGggbnVsbCBvciB1bmRlZmluZWQnKTtcblx0fVxuXG5cdHJldHVybiBPYmplY3QodmFsKTtcbn1cblxuZnVuY3Rpb24gc2hvdWxkVXNlTmF0aXZlKCkge1xuXHR0cnkge1xuXHRcdGlmICghT2JqZWN0LmFzc2lnbikge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIERldGVjdCBidWdneSBwcm9wZXJ0eSBlbnVtZXJhdGlvbiBvcmRlciBpbiBvbGRlciBWOCB2ZXJzaW9ucy5cblxuXHRcdC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTQxMThcblx0XHR2YXIgdGVzdDEgPSBuZXcgU3RyaW5nKCdhYmMnKTsgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tbmV3LXdyYXBwZXJzXG5cdFx0dGVzdDFbNV0gPSAnZGUnO1xuXHRcdGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0ZXN0MSlbMF0gPT09ICc1Jykge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTMwNTZcblx0XHR2YXIgdGVzdDIgPSB7fTtcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IDEwOyBpKyspIHtcblx0XHRcdHRlc3QyWydfJyArIFN0cmluZy5mcm9tQ2hhckNvZGUoaSldID0gaTtcblx0XHR9XG5cdFx0dmFyIG9yZGVyMiA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRlc3QyKS5tYXAoZnVuY3Rpb24gKG4pIHtcblx0XHRcdHJldHVybiB0ZXN0MltuXTtcblx0XHR9KTtcblx0XHRpZiAob3JkZXIyLmpvaW4oJycpICE9PSAnMDEyMzQ1Njc4OScpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD0zMDU2XG5cdFx0dmFyIHRlc3QzID0ge307XG5cdFx0J2FiY2RlZmdoaWprbG1ub3BxcnN0Jy5zcGxpdCgnJykuZm9yRWFjaChmdW5jdGlvbiAobGV0dGVyKSB7XG5cdFx0XHR0ZXN0M1tsZXR0ZXJdID0gbGV0dGVyO1xuXHRcdH0pO1xuXHRcdGlmIChPYmplY3Qua2V5cyhPYmplY3QuYXNzaWduKHt9LCB0ZXN0MykpLmpvaW4oJycpICE9PVxuXHRcdFx0XHQnYWJjZGVmZ2hpamtsbW5vcHFyc3QnKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRydWU7XG5cdH0gY2F0Y2ggKGVycikge1xuXHRcdC8vIFdlIGRvbid0IGV4cGVjdCBhbnkgb2YgdGhlIGFib3ZlIHRvIHRocm93LCBidXQgYmV0dGVyIHRvIGJlIHNhZmUuXG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc2hvdWxkVXNlTmF0aXZlKCkgPyBPYmplY3QuYXNzaWduIDogZnVuY3Rpb24gKHRhcmdldCwgc291cmNlKSB7XG5cdHZhciBmcm9tO1xuXHR2YXIgdG8gPSB0b09iamVjdCh0YXJnZXQpO1xuXHR2YXIgc3ltYm9scztcblxuXHRmb3IgKHZhciBzID0gMTsgcyA8IGFyZ3VtZW50cy5sZW5ndGg7IHMrKykge1xuXHRcdGZyb20gPSBPYmplY3QoYXJndW1lbnRzW3NdKTtcblxuXHRcdGZvciAodmFyIGtleSBpbiBmcm9tKSB7XG5cdFx0XHRpZiAoaGFzT3duUHJvcGVydHkuY2FsbChmcm9tLCBrZXkpKSB7XG5cdFx0XHRcdHRvW2tleV0gPSBmcm9tW2tleV07XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKGdldE93blByb3BlcnR5U3ltYm9scykge1xuXHRcdFx0c3ltYm9scyA9IGdldE93blByb3BlcnR5U3ltYm9scyhmcm9tKTtcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgc3ltYm9scy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRpZiAocHJvcElzRW51bWVyYWJsZS5jYWxsKGZyb20sIHN5bWJvbHNbaV0pKSB7XG5cdFx0XHRcdFx0dG9bc3ltYm9sc1tpXV0gPSBmcm9tW3N5bWJvbHNbaV1dO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHRvO1xufTtcbiIsIi8vIEdlbmVyYXRlZCBieSBDb2ZmZWVTY3JpcHQgMS4xMi4yXG4oZnVuY3Rpb24oKSB7XG4gIHZhciBnZXROYW5vU2Vjb25kcywgaHJ0aW1lLCBsb2FkVGltZSwgbW9kdWxlTG9hZFRpbWUsIG5vZGVMb2FkVGltZSwgdXBUaW1lO1xuXG4gIGlmICgodHlwZW9mIHBlcmZvcm1hbmNlICE9PSBcInVuZGVmaW5lZFwiICYmIHBlcmZvcm1hbmNlICE9PSBudWxsKSAmJiBwZXJmb3JtYW5jZS5ub3cpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHBlcmZvcm1hbmNlLm5vdygpO1xuICAgIH07XG4gIH0gZWxzZSBpZiAoKHR5cGVvZiBwcm9jZXNzICE9PSBcInVuZGVmaW5lZFwiICYmIHByb2Nlc3MgIT09IG51bGwpICYmIHByb2Nlc3MuaHJ0aW1lKSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiAoZ2V0TmFub1NlY29uZHMoKSAtIG5vZGVMb2FkVGltZSkgLyAxZTY7XG4gICAgfTtcbiAgICBocnRpbWUgPSBwcm9jZXNzLmhydGltZTtcbiAgICBnZXROYW5vU2Vjb25kcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGhyO1xuICAgICAgaHIgPSBocnRpbWUoKTtcbiAgICAgIHJldHVybiBoclswXSAqIDFlOSArIGhyWzFdO1xuICAgIH07XG4gICAgbW9kdWxlTG9hZFRpbWUgPSBnZXROYW5vU2Vjb25kcygpO1xuICAgIHVwVGltZSA9IHByb2Nlc3MudXB0aW1lKCkgKiAxZTk7XG4gICAgbm9kZUxvYWRUaW1lID0gbW9kdWxlTG9hZFRpbWUgLSB1cFRpbWU7XG4gIH0gZWxzZSBpZiAoRGF0ZS5ub3cpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIERhdGUubm93KCkgLSBsb2FkVGltZTtcbiAgICB9O1xuICAgIGxvYWRUaW1lID0gRGF0ZS5ub3coKTtcbiAgfSBlbHNlIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIG5ldyBEYXRlKCkuZ2V0VGltZSgpIC0gbG9hZFRpbWU7XG4gICAgfTtcbiAgICBsb2FkVGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICB9XG5cbn0pLmNhbGwodGhpcyk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBlcmZvcm1hbmNlLW5vdy5qcy5tYXBcbiIsIi8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxudmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXG4vLyBjYWNoZWQgZnJvbSB3aGF0ZXZlciBnbG9iYWwgaXMgcHJlc2VudCBzbyB0aGF0IHRlc3QgcnVubmVycyB0aGF0IHN0dWIgaXRcbi8vIGRvbid0IGJyZWFrIHRoaW5ncy4gIEJ1dCB3ZSBuZWVkIHRvIHdyYXAgaXQgaW4gYSB0cnkgY2F0Y2ggaW4gY2FzZSBpdCBpc1xuLy8gd3JhcHBlZCBpbiBzdHJpY3QgbW9kZSBjb2RlIHdoaWNoIGRvZXNuJ3QgZGVmaW5lIGFueSBnbG9iYWxzLiAgSXQncyBpbnNpZGUgYVxuLy8gZnVuY3Rpb24gYmVjYXVzZSB0cnkvY2F0Y2hlcyBkZW9wdGltaXplIGluIGNlcnRhaW4gZW5naW5lcy5cblxudmFyIGNhY2hlZFNldFRpbWVvdXQ7XG52YXIgY2FjaGVkQ2xlYXJUaW1lb3V0O1xuXG5mdW5jdGlvbiBkZWZhdWx0U2V0VGltb3V0KCkge1xuICAgIHRocm93IG5ldyBFcnJvcignc2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuZnVuY3Rpb24gZGVmYXVsdENsZWFyVGltZW91dCAoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbihmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBjbGVhclRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgfVxufSAoKSlcbmZ1bmN0aW9uIHJ1blRpbWVvdXQoZnVuKSB7XG4gICAgaWYgKGNhY2hlZFNldFRpbWVvdXQgPT09IHNldFRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIC8vIGlmIHNldFRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRTZXRUaW1lb3V0ID09PSBkZWZhdWx0U2V0VGltb3V0IHx8ICFjYWNoZWRTZXRUaW1lb3V0KSAmJiBzZXRUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfSBjYXRjaChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbChudWxsLCBmdW4sIDApO1xuICAgICAgICB9IGNhdGNoKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3JcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwodGhpcywgZnVuLCAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG59XG5mdW5jdGlvbiBydW5DbGVhclRpbWVvdXQobWFya2VyKSB7XG4gICAgaWYgKGNhY2hlZENsZWFyVGltZW91dCA9PT0gY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIC8vIGlmIGNsZWFyVGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZENsZWFyVGltZW91dCA9PT0gZGVmYXVsdENsZWFyVGltZW91dCB8fCAhY2FjaGVkQ2xlYXJUaW1lb3V0KSAmJiBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0ICB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKG51bGwsIG1hcmtlcik7XG4gICAgICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3IuXG4gICAgICAgICAgICAvLyBTb21lIHZlcnNpb25zIG9mIEkuRS4gaGF2ZSBkaWZmZXJlbnQgcnVsZXMgZm9yIGNsZWFyVGltZW91dCB2cyBzZXRUaW1lb3V0XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwodGhpcywgbWFya2VyKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG5cbn1cbnZhciBxdWV1ZSA9IFtdO1xudmFyIGRyYWluaW5nID0gZmFsc2U7XG52YXIgY3VycmVudFF1ZXVlO1xudmFyIHF1ZXVlSW5kZXggPSAtMTtcblxuZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuICAgIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgfVxuICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgZHJhaW5RdWV1ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcbiAgICBpZiAoZHJhaW5pbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdGltZW91dCA9IHJ1blRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcbiAgICBkcmFpbmluZyA9IHRydWU7XG5cbiAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIHdoaWxlKGxlbikge1xuICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcbiAgICAgICAgcXVldWUgPSBbXTtcbiAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB9XG4gICAgY3VycmVudFF1ZXVlID0gbnVsbDtcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIHJ1bkNsZWFyVGltZW91dCh0aW1lb3V0KTtcbn1cblxucHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG4gICAgICAgIHJ1blRpbWVvdXQoZHJhaW5RdWV1ZSk7XG4gICAgfVxufTtcblxuLy8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gICAgdGhpcy5mdW4gPSBmdW47XG4gICAgdGhpcy5hcnJheSA9IGFycmF5O1xufVxuSXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xufTtcbnByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5wcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xucHJvY2Vzcy5lbnYgPSB7fTtcbnByb2Nlc3MuYXJndiA9IFtdO1xucHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5wcm9jZXNzLnZlcnNpb25zID0ge307XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5wcm9jZXNzLm9uID0gbm9vcDtcbnByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5vbmNlID0gbm9vcDtcbnByb2Nlc3Mub2ZmID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xucHJvY2Vzcy5lbWl0ID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZE9uY2VMaXN0ZW5lciA9IG5vb3A7XG5cbnByb2Nlc3MubGlzdGVuZXJzID0gZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIFtdIH1cblxucHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xuXG5wcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xucHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcbnByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG4iLCJ2YXIgbm93ID0gcmVxdWlyZSgncGVyZm9ybWFuY2Utbm93JylcbiAgLCByb290ID0gdHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcgPyBnbG9iYWwgOiB3aW5kb3dcbiAgLCB2ZW5kb3JzID0gWydtb3onLCAnd2Via2l0J11cbiAgLCBzdWZmaXggPSAnQW5pbWF0aW9uRnJhbWUnXG4gICwgcmFmID0gcm9vdFsncmVxdWVzdCcgKyBzdWZmaXhdXG4gICwgY2FmID0gcm9vdFsnY2FuY2VsJyArIHN1ZmZpeF0gfHwgcm9vdFsnY2FuY2VsUmVxdWVzdCcgKyBzdWZmaXhdXG5cbmZvcih2YXIgaSA9IDA7ICFyYWYgJiYgaSA8IHZlbmRvcnMubGVuZ3RoOyBpKyspIHtcbiAgcmFmID0gcm9vdFt2ZW5kb3JzW2ldICsgJ1JlcXVlc3QnICsgc3VmZml4XVxuICBjYWYgPSByb290W3ZlbmRvcnNbaV0gKyAnQ2FuY2VsJyArIHN1ZmZpeF1cbiAgICAgIHx8IHJvb3RbdmVuZG9yc1tpXSArICdDYW5jZWxSZXF1ZXN0JyArIHN1ZmZpeF1cbn1cblxuLy8gU29tZSB2ZXJzaW9ucyBvZiBGRiBoYXZlIHJBRiBidXQgbm90IGNBRlxuaWYoIXJhZiB8fCAhY2FmKSB7XG4gIHZhciBsYXN0ID0gMFxuICAgICwgaWQgPSAwXG4gICAgLCBxdWV1ZSA9IFtdXG4gICAgLCBmcmFtZUR1cmF0aW9uID0gMTAwMCAvIDYwXG5cbiAgcmFmID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgICBpZihxdWV1ZS5sZW5ndGggPT09IDApIHtcbiAgICAgIHZhciBfbm93ID0gbm93KClcbiAgICAgICAgLCBuZXh0ID0gTWF0aC5tYXgoMCwgZnJhbWVEdXJhdGlvbiAtIChfbm93IC0gbGFzdCkpXG4gICAgICBsYXN0ID0gbmV4dCArIF9ub3dcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBjcCA9IHF1ZXVlLnNsaWNlKDApXG4gICAgICAgIC8vIENsZWFyIHF1ZXVlIGhlcmUgdG8gcHJldmVudFxuICAgICAgICAvLyBjYWxsYmFja3MgZnJvbSBhcHBlbmRpbmcgbGlzdGVuZXJzXG4gICAgICAgIC8vIHRvIHRoZSBjdXJyZW50IGZyYW1lJ3MgcXVldWVcbiAgICAgICAgcXVldWUubGVuZ3RoID0gMFxuICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgY3AubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZighY3BbaV0uY2FuY2VsbGVkKSB7XG4gICAgICAgICAgICB0cnl7XG4gICAgICAgICAgICAgIGNwW2ldLmNhbGxiYWNrKGxhc3QpXG4gICAgICAgICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsgdGhyb3cgZSB9LCAwKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSwgTWF0aC5yb3VuZChuZXh0KSlcbiAgICB9XG4gICAgcXVldWUucHVzaCh7XG4gICAgICBoYW5kbGU6ICsraWQsXG4gICAgICBjYWxsYmFjazogY2FsbGJhY2ssXG4gICAgICBjYW5jZWxsZWQ6IGZhbHNlXG4gICAgfSlcbiAgICByZXR1cm4gaWRcbiAgfVxuXG4gIGNhZiA9IGZ1bmN0aW9uKGhhbmRsZSkge1xuICAgIGZvcih2YXIgaSA9IDA7IGkgPCBxdWV1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgaWYocXVldWVbaV0uaGFuZGxlID09PSBoYW5kbGUpIHtcbiAgICAgICAgcXVldWVbaV0uY2FuY2VsbGVkID0gdHJ1ZVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGZuKSB7XG4gIC8vIFdyYXAgaW4gYSBuZXcgZnVuY3Rpb24gdG8gcHJldmVudFxuICAvLyBgY2FuY2VsYCBwb3RlbnRpYWxseSBiZWluZyBhc3NpZ25lZFxuICAvLyB0byB0aGUgbmF0aXZlIHJBRiBmdW5jdGlvblxuICByZXR1cm4gcmFmLmNhbGwocm9vdCwgZm4pXG59XG5tb2R1bGUuZXhwb3J0cy5jYW5jZWwgPSBmdW5jdGlvbigpIHtcbiAgY2FmLmFwcGx5KHJvb3QsIGFyZ3VtZW50cylcbn1cbm1vZHVsZS5leHBvcnRzLnBvbHlmaWxsID0gZnVuY3Rpb24oKSB7XG4gIHJvb3QucmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gcmFmXG4gIHJvb3QuY2FuY2VsQW5pbWF0aW9uRnJhbWUgPSBjYWZcbn1cbiIsIi8qKlxuKiBQYXJhbGxheC5qc1xuKiBAYXV0aG9yIE1hdHRoZXcgV2FnZXJmaWVsZCAtIEB3YWdlcmZpZWxkLCBSZW7DqSBSb3RoIC0gbWFpbEByZW5lcm90aC5vcmdcbiogQGRlc2NyaXB0aW9uIENyZWF0ZXMgYSBwYXJhbGxheCBlZmZlY3QgYmV0d2VlbiBhbiBhcnJheSBvZiBsYXllcnMsXG4qICAgICAgICAgICAgICBkcml2aW5nIHRoZSBtb3Rpb24gZnJvbSB0aGUgZ3lyb3Njb3BlIG91dHB1dCBvZiBhIHNtYXJ0ZGV2aWNlLlxuKiAgICAgICAgICAgICAgSWYgbm8gZ3lyb3Njb3BlIGlzIGF2YWlsYWJsZSwgdGhlIGN1cnNvciBwb3NpdGlvbiBpcyB1c2VkLlxuKi9cblxuY29uc3QgcnFBbkZyID0gcmVxdWlyZSgncmFmJylcbmNvbnN0IG9iamVjdEFzc2lnbiA9IHJlcXVpcmUoJ29iamVjdC1hc3NpZ24nKVxuXG5jb25zdCBoZWxwZXJzID0ge1xuICBwcm9wZXJ0eUNhY2hlOiB7fSxcbiAgdmVuZG9yczogW251bGwsIFsnLXdlYmtpdC0nLCd3ZWJraXQnXSwgWyctbW96LScsJ01veiddLCBbJy1vLScsJ08nXSwgWyctbXMtJywnbXMnXV0sXG5cbiAgY2xhbXAodmFsdWUsIG1pbiwgbWF4KSB7XG4gICAgcmV0dXJuIG1pbiA8IG1heFxuICAgICAgPyAodmFsdWUgPCBtaW4gPyBtaW4gOiB2YWx1ZSA+IG1heCA/IG1heCA6IHZhbHVlKVxuICAgICAgOiAodmFsdWUgPCBtYXggPyBtYXggOiB2YWx1ZSA+IG1pbiA/IG1pbiA6IHZhbHVlKVxuICB9LFxuXG4gIGRhdGEoZWxlbWVudCwgbmFtZSkge1xuICAgIHJldHVybiBoZWxwZXJzLmRlc2VyaWFsaXplKGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLScrbmFtZSkpXG4gIH0sXG5cbiAgZGVzZXJpYWxpemUodmFsdWUpIHtcbiAgICBpZiAodmFsdWUgPT09ICd0cnVlJykge1xuICAgICAgcmV0dXJuIHRydWVcbiAgICB9IGVsc2UgaWYgKHZhbHVlID09PSAnZmFsc2UnKSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9IGVsc2UgaWYgKHZhbHVlID09PSAnbnVsbCcpIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfSBlbHNlIGlmICghaXNOYU4ocGFyc2VGbG9hdCh2YWx1ZSkpICYmIGlzRmluaXRlKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIHBhcnNlRmxvYXQodmFsdWUpXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB2YWx1ZVxuICAgIH1cbiAgfSxcblxuICBjYW1lbENhc2UodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUucmVwbGFjZSgvLSsoLik/L2csIChtYXRjaCwgY2hhcmFjdGVyKSA9PiB7XG4gICAgICByZXR1cm4gY2hhcmFjdGVyID8gY2hhcmFjdGVyLnRvVXBwZXJDYXNlKCkgOiAnJ1xuICAgIH0pXG4gIH0sXG5cbiAgYWNjZWxlcmF0ZShlbGVtZW50KSB7XG4gICAgaGVscGVycy5jc3MoZWxlbWVudCwgJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUzZCgwLDAsMCkgcm90YXRlKDAuMDAwMWRlZyknKVxuICAgIGhlbHBlcnMuY3NzKGVsZW1lbnQsICd0cmFuc2Zvcm0tc3R5bGUnLCAncHJlc2VydmUtM2QnKVxuICAgIGhlbHBlcnMuY3NzKGVsZW1lbnQsICdiYWNrZmFjZS12aXNpYmlsaXR5JywgJ2hpZGRlbicpXG4gIH0sXG5cbiAgdHJhbnNmb3JtU3VwcG9ydCh2YWx1ZSkge1xuICAgIGxldCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JyksXG4gICAgICAgIHByb3BlcnR5U3VwcG9ydCA9IGZhbHNlLFxuICAgICAgICBwcm9wZXJ0eVZhbHVlID0gbnVsbCxcbiAgICAgICAgZmVhdHVyZVN1cHBvcnQgPSBmYWxzZSxcbiAgICAgICAgY3NzUHJvcGVydHkgPSBudWxsLFxuICAgICAgICBqc1Byb3BlcnR5ID0gbnVsbFxuICAgIGZvciAobGV0IGkgPSAwLCBsID0gaGVscGVycy52ZW5kb3JzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgaWYgKGhlbHBlcnMudmVuZG9yc1tpXSAhPT0gbnVsbCkge1xuICAgICAgICBjc3NQcm9wZXJ0eSA9IGhlbHBlcnMudmVuZG9yc1tpXVswXSArICd0cmFuc2Zvcm0nXG4gICAgICAgIGpzUHJvcGVydHkgPSBoZWxwZXJzLnZlbmRvcnNbaV1bMV0gKyAnVHJhbnNmb3JtJ1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY3NzUHJvcGVydHkgPSAndHJhbnNmb3JtJ1xuICAgICAgICBqc1Byb3BlcnR5ID0gJ3RyYW5zZm9ybSdcbiAgICAgIH1cbiAgICAgIGlmIChlbGVtZW50LnN0eWxlW2pzUHJvcGVydHldICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcHJvcGVydHlTdXBwb3J0ID0gdHJ1ZVxuICAgICAgICBicmVha1xuICAgICAgfVxuICAgIH1cbiAgICBzd2l0Y2godmFsdWUpIHtcbiAgICAgIGNhc2UgJzJEJzpcbiAgICAgICAgZmVhdHVyZVN1cHBvcnQgPSBwcm9wZXJ0eVN1cHBvcnRcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJzNEJzpcbiAgICAgICAgaWYgKHByb3BlcnR5U3VwcG9ydCkge1xuICAgICAgICAgIGxldCBib2R5ID0gZG9jdW1lbnQuYm9keSB8fCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdib2R5JyksXG4gICAgICAgICAgICAgIGRvY3VtZW50RWxlbWVudCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCxcbiAgICAgICAgICAgICAgZG9jdW1lbnRPdmVyZmxvdyA9IGRvY3VtZW50RWxlbWVudC5zdHlsZS5vdmVyZmxvdyxcbiAgICAgICAgICAgICAgaXNDcmVhdGVkQm9keSA9IGZhbHNlXG5cbiAgICAgICAgICBpZiAoIWRvY3VtZW50LmJvZHkpIHtcbiAgICAgICAgICAgIGlzQ3JlYXRlZEJvZHkgPSB0cnVlXG4gICAgICAgICAgICBkb2N1bWVudEVsZW1lbnQuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJ1xuICAgICAgICAgICAgZG9jdW1lbnRFbGVtZW50LmFwcGVuZENoaWxkKGJvZHkpXG4gICAgICAgICAgICBib2R5LnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbidcbiAgICAgICAgICAgIGJvZHkuc3R5bGUuYmFja2dyb3VuZCA9ICcnXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYm9keS5hcHBlbmRDaGlsZChlbGVtZW50KVxuICAgICAgICAgIGVsZW1lbnQuc3R5bGVbanNQcm9wZXJ0eV0gPSAndHJhbnNsYXRlM2QoMXB4LDFweCwxcHgpJ1xuICAgICAgICAgIHByb3BlcnR5VmFsdWUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KS5nZXRQcm9wZXJ0eVZhbHVlKGNzc1Byb3BlcnR5KVxuICAgICAgICAgIGZlYXR1cmVTdXBwb3J0ID0gcHJvcGVydHlWYWx1ZSAhPT0gdW5kZWZpbmVkICYmIHByb3BlcnR5VmFsdWUubGVuZ3RoID4gMCAmJiBwcm9wZXJ0eVZhbHVlICE9PSAnbm9uZSdcbiAgICAgICAgICBkb2N1bWVudEVsZW1lbnQuc3R5bGUub3ZlcmZsb3cgPSBkb2N1bWVudE92ZXJmbG93XG4gICAgICAgICAgYm9keS5yZW1vdmVDaGlsZChlbGVtZW50KVxuXG4gICAgICAgICAgaWYgKCBpc0NyZWF0ZWRCb2R5ICkge1xuICAgICAgICAgICAgYm9keS5yZW1vdmVBdHRyaWJ1dGUoJ3N0eWxlJylcbiAgICAgICAgICAgIGJvZHkucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChib2R5KVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBicmVha1xuICAgIH1cbiAgICByZXR1cm4gZmVhdHVyZVN1cHBvcnRcbiAgfSxcblxuICBjc3MoZWxlbWVudCwgcHJvcGVydHksIHZhbHVlKSB7XG4gICAgbGV0IGpzUHJvcGVydHkgPSBoZWxwZXJzLnByb3BlcnR5Q2FjaGVbcHJvcGVydHldXG4gICAgaWYgKCFqc1Byb3BlcnR5KSB7XG4gICAgICBmb3IgKGxldCBpID0gMCwgbCA9IGhlbHBlcnMudmVuZG9ycy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgaWYgKGhlbHBlcnMudmVuZG9yc1tpXSAhPT0gbnVsbCkge1xuICAgICAgICAgIGpzUHJvcGVydHkgPSBoZWxwZXJzLmNhbWVsQ2FzZShoZWxwZXJzLnZlbmRvcnNbaV1bMV0gKyAnLScgKyBwcm9wZXJ0eSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBqc1Byb3BlcnR5ID0gcHJvcGVydHlcbiAgICAgICAgfVxuICAgICAgICBpZiAoZWxlbWVudC5zdHlsZVtqc1Byb3BlcnR5XSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgaGVscGVycy5wcm9wZXJ0eUNhY2hlW3Byb3BlcnR5XSA9IGpzUHJvcGVydHlcbiAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGVsZW1lbnQuc3R5bGVbanNQcm9wZXJ0eV0gPSB2YWx1ZVxuICB9XG5cbn1cblxuY29uc3QgTUFHSUNfTlVNQkVSID0gMzAsXG4gICAgICBERUZBVUxUUyA9IHtcbiAgICAgICAgcmVsYXRpdmVJbnB1dDogZmFsc2UsXG4gICAgICAgIGNsaXBSZWxhdGl2ZUlucHV0OiBmYWxzZSxcbiAgICAgICAgaW5wdXRFbGVtZW50OiBudWxsLFxuICAgICAgICBob3Zlck9ubHk6IGZhbHNlLFxuICAgICAgICBjYWxpYnJhdGlvblRocmVzaG9sZDogMTAwLFxuICAgICAgICBjYWxpYnJhdGlvbkRlbGF5OiA1MDAsXG4gICAgICAgIHN1cHBvcnREZWxheTogNTAwLFxuICAgICAgICBjYWxpYnJhdGVYOiBmYWxzZSxcbiAgICAgICAgY2FsaWJyYXRlWTogdHJ1ZSxcbiAgICAgICAgaW52ZXJ0WDogdHJ1ZSxcbiAgICAgICAgaW52ZXJ0WTogdHJ1ZSxcbiAgICAgICAgbGltaXRYOiBmYWxzZSxcbiAgICAgICAgbGltaXRZOiBmYWxzZSxcbiAgICAgICAgc2NhbGFyWDogMTAuMCxcbiAgICAgICAgc2NhbGFyWTogMTAuMCxcbiAgICAgICAgZnJpY3Rpb25YOiAwLjEsXG4gICAgICAgIGZyaWN0aW9uWTogMC4xLFxuICAgICAgICBvcmlnaW5YOiAwLjUsXG4gICAgICAgIG9yaWdpblk6IDAuNSxcbiAgICAgICAgcG9pbnRlckV2ZW50czogZmFsc2UsXG4gICAgICAgIHByZWNpc2lvbjogMSxcbiAgICAgICAgb25SZWFkeTogbnVsbCxcbiAgICAgICAgc2VsZWN0b3I6IG51bGxcbiAgICAgIH1cblxuY2xhc3MgUGFyYWxsYXgge1xuICBjb25zdHJ1Y3RvcihlbGVtZW50LCBvcHRpb25zKSB7XG5cbiAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50XG5cbiAgICBjb25zdCBkYXRhID0ge1xuICAgICAgY2FsaWJyYXRlWDogaGVscGVycy5kYXRhKHRoaXMuZWxlbWVudCwgJ2NhbGlicmF0ZS14JyksXG4gICAgICBjYWxpYnJhdGVZOiBoZWxwZXJzLmRhdGEodGhpcy5lbGVtZW50LCAnY2FsaWJyYXRlLXknKSxcbiAgICAgIGludmVydFg6IGhlbHBlcnMuZGF0YSh0aGlzLmVsZW1lbnQsICdpbnZlcnQteCcpLFxuICAgICAgaW52ZXJ0WTogaGVscGVycy5kYXRhKHRoaXMuZWxlbWVudCwgJ2ludmVydC15JyksXG4gICAgICBsaW1pdFg6IGhlbHBlcnMuZGF0YSh0aGlzLmVsZW1lbnQsICdsaW1pdC14JyksXG4gICAgICBsaW1pdFk6IGhlbHBlcnMuZGF0YSh0aGlzLmVsZW1lbnQsICdsaW1pdC15JyksXG4gICAgICBzY2FsYXJYOiBoZWxwZXJzLmRhdGEodGhpcy5lbGVtZW50LCAnc2NhbGFyLXgnKSxcbiAgICAgIHNjYWxhclk6IGhlbHBlcnMuZGF0YSh0aGlzLmVsZW1lbnQsICdzY2FsYXIteScpLFxuICAgICAgZnJpY3Rpb25YOiBoZWxwZXJzLmRhdGEodGhpcy5lbGVtZW50LCAnZnJpY3Rpb24teCcpLFxuICAgICAgZnJpY3Rpb25ZOiBoZWxwZXJzLmRhdGEodGhpcy5lbGVtZW50LCAnZnJpY3Rpb24teScpLFxuICAgICAgb3JpZ2luWDogaGVscGVycy5kYXRhKHRoaXMuZWxlbWVudCwgJ29yaWdpbi14JyksXG4gICAgICBvcmlnaW5ZOiBoZWxwZXJzLmRhdGEodGhpcy5lbGVtZW50LCAnb3JpZ2luLXknKSxcbiAgICAgIHBvaW50ZXJFdmVudHM6IGhlbHBlcnMuZGF0YSh0aGlzLmVsZW1lbnQsICdwb2ludGVyLWV2ZW50cycpLFxuICAgICAgcHJlY2lzaW9uOiBoZWxwZXJzLmRhdGEodGhpcy5lbGVtZW50LCAncHJlY2lzaW9uJyksXG4gICAgICByZWxhdGl2ZUlucHV0OiBoZWxwZXJzLmRhdGEodGhpcy5lbGVtZW50LCAncmVsYXRpdmUtaW5wdXQnKSxcbiAgICAgIGNsaXBSZWxhdGl2ZUlucHV0OiBoZWxwZXJzLmRhdGEodGhpcy5lbGVtZW50LCAnY2xpcC1yZWxhdGl2ZS1pbnB1dCcpLFxuICAgICAgaG92ZXJPbmx5OiBoZWxwZXJzLmRhdGEodGhpcy5lbGVtZW50LCAnaG92ZXItb25seScpLFxuICAgICAgaW5wdXRFbGVtZW50OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGhlbHBlcnMuZGF0YSh0aGlzLmVsZW1lbnQsICdpbnB1dC1lbGVtZW50JykpLFxuICAgICAgc2VsZWN0b3I6IGhlbHBlcnMuZGF0YSh0aGlzLmVsZW1lbnQsICdzZWxlY3RvcicpXG4gICAgfVxuXG4gICAgZm9yIChsZXQga2V5IGluIGRhdGEpIHtcbiAgICAgIGlmIChkYXRhW2tleV0gPT09IG51bGwpIHtcbiAgICAgICAgZGVsZXRlIGRhdGFba2V5XVxuICAgICAgfVxuICAgIH1cblxuICAgIG9iamVjdEFzc2lnbih0aGlzLCBERUZBVUxUUywgZGF0YSwgb3B0aW9ucylcblxuICAgIGlmKCF0aGlzLmlucHV0RWxlbWVudCkge1xuICAgICAgdGhpcy5pbnB1dEVsZW1lbnQgPSB0aGlzLmVsZW1lbnRcbiAgICB9XG5cbiAgICB0aGlzLmNhbGlicmF0aW9uVGltZXIgPSBudWxsXG4gICAgdGhpcy5jYWxpYnJhdGlvbkZsYWcgPSB0cnVlXG4gICAgdGhpcy5lbmFibGVkID0gZmFsc2VcbiAgICB0aGlzLmRlcHRoc1ggPSBbXVxuICAgIHRoaXMuZGVwdGhzWSA9IFtdXG4gICAgdGhpcy5yYWYgPSBudWxsXG5cbiAgICB0aGlzLmJvdW5kcyA9IG51bGxcbiAgICB0aGlzLmVsZW1lbnRQb3NpdGlvblggPSAwXG4gICAgdGhpcy5lbGVtZW50UG9zaXRpb25ZID0gMFxuICAgIHRoaXMuZWxlbWVudFdpZHRoID0gMFxuICAgIHRoaXMuZWxlbWVudEhlaWdodCA9IDBcblxuICAgIHRoaXMuZWxlbWVudENlbnRlclggPSAwXG4gICAgdGhpcy5lbGVtZW50Q2VudGVyWSA9IDBcblxuICAgIHRoaXMuZWxlbWVudFJhbmdlWCA9IDBcbiAgICB0aGlzLmVsZW1lbnRSYW5nZVkgPSAwXG5cbiAgICB0aGlzLmNhbGlicmF0aW9uWCA9IDBcbiAgICB0aGlzLmNhbGlicmF0aW9uWSA9IDBcblxuICAgIHRoaXMuaW5wdXRYID0gMFxuICAgIHRoaXMuaW5wdXRZID0gMFxuXG4gICAgdGhpcy5tb3Rpb25YID0gMFxuICAgIHRoaXMubW90aW9uWSA9IDBcblxuICAgIHRoaXMudmVsb2NpdHlYID0gMFxuICAgIHRoaXMudmVsb2NpdHlZID0gMFxuXG4gICAgdGhpcy5vbk1vdXNlTW92ZSA9IHRoaXMub25Nb3VzZU1vdmUuYmluZCh0aGlzKVxuICAgIHRoaXMub25EZXZpY2VPcmllbnRhdGlvbiA9IHRoaXMub25EZXZpY2VPcmllbnRhdGlvbi5iaW5kKHRoaXMpXG4gICAgdGhpcy5vbkRldmljZU1vdGlvbiA9IHRoaXMub25EZXZpY2VNb3Rpb24uYmluZCh0aGlzKVxuICAgIHRoaXMub25PcmllbnRhdGlvblRpbWVyID0gdGhpcy5vbk9yaWVudGF0aW9uVGltZXIuYmluZCh0aGlzKVxuICAgIHRoaXMub25Nb3Rpb25UaW1lciA9IHRoaXMub25Nb3Rpb25UaW1lci5iaW5kKHRoaXMpXG4gICAgdGhpcy5vbkNhbGlicmF0aW9uVGltZXIgPSB0aGlzLm9uQ2FsaWJyYXRpb25UaW1lci5iaW5kKHRoaXMpXG4gICAgdGhpcy5vbkFuaW1hdGlvbkZyYW1lID0gdGhpcy5vbkFuaW1hdGlvbkZyYW1lLmJpbmQodGhpcylcbiAgICB0aGlzLm9uV2luZG93UmVzaXplID0gdGhpcy5vbldpbmRvd1Jlc2l6ZS5iaW5kKHRoaXMpXG5cbiAgICB0aGlzLndpbmRvd1dpZHRoID0gbnVsbFxuICAgIHRoaXMud2luZG93SGVpZ2h0ID0gbnVsbFxuICAgIHRoaXMud2luZG93Q2VudGVyWCA9IG51bGxcbiAgICB0aGlzLndpbmRvd0NlbnRlclkgPSBudWxsXG4gICAgdGhpcy53aW5kb3dSYWRpdXNYID0gbnVsbFxuICAgIHRoaXMud2luZG93UmFkaXVzWSA9IG51bGxcbiAgICB0aGlzLnBvcnRyYWl0ID0gZmFsc2VcbiAgICB0aGlzLmRlc2t0b3AgPSAhbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvKGlQaG9uZXxpUG9kfGlQYWR8QW5kcm9pZHxCbGFja0JlcnJ5fEJCMTB8bW9iaXx0YWJsZXR8b3BlcmEgbWluaXxuZXh1cyA3KS9pKVxuICAgIHRoaXMubW90aW9uU3VwcG9ydCA9ICEhd2luZG93LkRldmljZU1vdGlvbkV2ZW50ICYmICF0aGlzLmRlc2t0b3BcbiAgICB0aGlzLm9yaWVudGF0aW9uU3VwcG9ydCA9ICEhd2luZG93LkRldmljZU9yaWVudGF0aW9uRXZlbnQgJiYgIXRoaXMuZGVza3RvcFxuICAgIHRoaXMub3JpZW50YXRpb25TdGF0dXMgPSAwXG4gICAgdGhpcy5tb3Rpb25TdGF0dXMgPSAwXG5cbiAgICB0aGlzLmluaXRpYWxpc2UoKVxuICB9XG5cbiAgaW5pdGlhbGlzZSgpIHtcbiAgICBpZiAodGhpcy50cmFuc2Zvcm0yRFN1cHBvcnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy50cmFuc2Zvcm0yRFN1cHBvcnQgPSBoZWxwZXJzLnRyYW5zZm9ybVN1cHBvcnQoJzJEJylcbiAgICAgIHRoaXMudHJhbnNmb3JtM0RTdXBwb3J0ID0gaGVscGVycy50cmFuc2Zvcm1TdXBwb3J0KCczRCcpXG4gICAgfVxuXG4gICAgLy8gQ29uZmlndXJlIENvbnRleHQgU3R5bGVzXG4gICAgaWYgKHRoaXMudHJhbnNmb3JtM0RTdXBwb3J0KSB7XG4gICAgICBoZWxwZXJzLmFjY2VsZXJhdGUodGhpcy5lbGVtZW50KVxuICAgIH1cblxuICAgIGxldCBzdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRoaXMuZWxlbWVudClcbiAgICBpZiAoc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgncG9zaXRpb24nKSA9PT0gJ3N0YXRpYycpIHtcbiAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSdcbiAgICB9XG5cbiAgICAvLyBQb2ludGVyIGV2ZW50c1xuICAgIGlmKCF0aGlzLnBvaW50ZXJFdmVudHMpIHtcbiAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ25vbmUnXG4gICAgfVxuXG4gICAgLy8gU2V0dXBcbiAgICB0aGlzLnVwZGF0ZUxheWVycygpXG4gICAgdGhpcy51cGRhdGVEaW1lbnNpb25zKClcbiAgICB0aGlzLmVuYWJsZSgpXG4gICAgdGhpcy5xdWV1ZUNhbGlicmF0aW9uKHRoaXMuY2FsaWJyYXRpb25EZWxheSlcbiAgfVxuXG4gIGRvUmVhZHlDYWxsYmFjaygpIHtcbiAgICBpZih0aGlzLm9uUmVhZHkpIHtcbiAgICAgIHRoaXMub25SZWFkeSgpXG4gICAgfVxuICB9XG5cbiAgdXBkYXRlTGF5ZXJzKCkge1xuICAgIGlmKHRoaXMuc2VsZWN0b3IpIHtcbiAgICAgIHRoaXMubGF5ZXJzID0gdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5zZWxlY3RvcilcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5sYXllcnMgPSB0aGlzLmVsZW1lbnQuY2hpbGRyZW5cbiAgICB9XG5cbiAgICBpZighdGhpcy5sYXllcnMubGVuZ3RoKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ1BhcmFsbGF4SlM6IFlvdXIgc2NlbmUgZG9lcyBub3QgaGF2ZSBhbnkgbGF5ZXJzLicpXG4gICAgfVxuXG4gICAgdGhpcy5kZXB0aHNYID0gW11cbiAgICB0aGlzLmRlcHRoc1kgPSBbXVxuXG4gICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHRoaXMubGF5ZXJzLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgbGV0IGxheWVyID0gdGhpcy5sYXllcnNbaW5kZXhdXG5cbiAgICAgIGlmICh0aGlzLnRyYW5zZm9ybTNEU3VwcG9ydCkge1xuICAgICAgICBoZWxwZXJzLmFjY2VsZXJhdGUobGF5ZXIpXG4gICAgICB9XG5cbiAgICAgIGxheWVyLnN0eWxlLnBvc2l0aW9uID0gaW5kZXggPyAnYWJzb2x1dGUnIDogJ3JlbGF0aXZlJ1xuICAgICAgbGF5ZXIuc3R5bGUuZGlzcGxheSA9ICdibG9jaydcbiAgICAgIGxheWVyLnN0eWxlLmxlZnQgPSAwXG4gICAgICBsYXllci5zdHlsZS50b3AgPSAwXG5cbiAgICAgIGxldCBkZXB0aCA9IGhlbHBlcnMuZGF0YShsYXllciwgJ2RlcHRoJykgfHwgMFxuICAgICAgdGhpcy5kZXB0aHNYLnB1c2goaGVscGVycy5kYXRhKGxheWVyLCAnZGVwdGgteCcpIHx8IGRlcHRoKVxuICAgICAgdGhpcy5kZXB0aHNZLnB1c2goaGVscGVycy5kYXRhKGxheWVyLCAnZGVwdGgteScpIHx8IGRlcHRoKVxuICAgIH1cbiAgfVxuXG4gIHVwZGF0ZURpbWVuc2lvbnMoKSB7XG4gICAgdGhpcy53aW5kb3dXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoXG4gICAgdGhpcy53aW5kb3dIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHRcbiAgICB0aGlzLndpbmRvd0NlbnRlclggPSB0aGlzLndpbmRvd1dpZHRoICogdGhpcy5vcmlnaW5YXG4gICAgdGhpcy53aW5kb3dDZW50ZXJZID0gdGhpcy53aW5kb3dIZWlnaHQgKiB0aGlzLm9yaWdpbllcbiAgICB0aGlzLndpbmRvd1JhZGl1c1ggPSBNYXRoLm1heCh0aGlzLndpbmRvd0NlbnRlclgsIHRoaXMud2luZG93V2lkdGggLSB0aGlzLndpbmRvd0NlbnRlclgpXG4gICAgdGhpcy53aW5kb3dSYWRpdXNZID0gTWF0aC5tYXgodGhpcy53aW5kb3dDZW50ZXJZLCB0aGlzLndpbmRvd0hlaWdodCAtIHRoaXMud2luZG93Q2VudGVyWSlcbiAgfVxuXG4gIHVwZGF0ZUJvdW5kcygpIHtcbiAgICB0aGlzLmJvdW5kcyA9IHRoaXMuaW5wdXRFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG4gICAgdGhpcy5lbGVtZW50UG9zaXRpb25YID0gdGhpcy5ib3VuZHMubGVmdFxuICAgIHRoaXMuZWxlbWVudFBvc2l0aW9uWSA9IHRoaXMuYm91bmRzLnRvcFxuICAgIHRoaXMuZWxlbWVudFdpZHRoID0gdGhpcy5ib3VuZHMud2lkdGhcbiAgICB0aGlzLmVsZW1lbnRIZWlnaHQgPSB0aGlzLmJvdW5kcy5oZWlnaHRcbiAgICB0aGlzLmVsZW1lbnRDZW50ZXJYID0gdGhpcy5lbGVtZW50V2lkdGggKiB0aGlzLm9yaWdpblhcbiAgICB0aGlzLmVsZW1lbnRDZW50ZXJZID0gdGhpcy5lbGVtZW50SGVpZ2h0ICogdGhpcy5vcmlnaW5ZXG4gICAgdGhpcy5lbGVtZW50UmFuZ2VYID0gTWF0aC5tYXgodGhpcy5lbGVtZW50Q2VudGVyWCwgdGhpcy5lbGVtZW50V2lkdGggLSB0aGlzLmVsZW1lbnRDZW50ZXJYKVxuICAgIHRoaXMuZWxlbWVudFJhbmdlWSA9IE1hdGgubWF4KHRoaXMuZWxlbWVudENlbnRlclksIHRoaXMuZWxlbWVudEhlaWdodCAtIHRoaXMuZWxlbWVudENlbnRlclkpXG4gIH1cblxuICBxdWV1ZUNhbGlicmF0aW9uKGRlbGF5KSB7XG4gICAgY2xlYXJUaW1lb3V0KHRoaXMuY2FsaWJyYXRpb25UaW1lcilcbiAgICB0aGlzLmNhbGlicmF0aW9uVGltZXIgPSBzZXRUaW1lb3V0KHRoaXMub25DYWxpYnJhdGlvblRpbWVyLCBkZWxheSlcbiAgfVxuXG4gIGVuYWJsZSgpIHtcbiAgICBpZiAodGhpcy5lbmFibGVkKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgdGhpcy5lbmFibGVkID0gdHJ1ZVxuXG4gICAgaWYgKHRoaXMub3JpZW50YXRpb25TdXBwb3J0KSB7XG4gICAgICB0aGlzLnBvcnRyYWl0ID0gZmFsc2VcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdkZXZpY2VvcmllbnRhdGlvbicsIHRoaXMub25EZXZpY2VPcmllbnRhdGlvbilcbiAgICAgIHRoaXMuZGV0ZWN0aW9uVGltZXIgPSBzZXRUaW1lb3V0KHRoaXMub25PcmllbnRhdGlvblRpbWVyLCB0aGlzLnN1cHBvcnREZWxheSlcbiAgICB9IGVsc2UgaWYgKHRoaXMubW90aW9uU3VwcG9ydCkge1xuICAgICAgdGhpcy5wb3J0cmFpdCA9IGZhbHNlXG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignZGV2aWNlbW90aW9uJywgdGhpcy5vbkRldmljZU1vdGlvbilcbiAgICAgIHRoaXMuZGV0ZWN0aW9uVGltZXIgPSBzZXRUaW1lb3V0KHRoaXMub25Nb3Rpb25UaW1lciwgdGhpcy5zdXBwb3J0RGVsYXkpXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuY2FsaWJyYXRpb25YID0gMFxuICAgICAgdGhpcy5jYWxpYnJhdGlvblkgPSAwXG4gICAgICB0aGlzLnBvcnRyYWl0ID0gZmFsc2VcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLm9uTW91c2VNb3ZlKVxuICAgICAgdGhpcy5kb1JlYWR5Q2FsbGJhY2soKVxuICAgIH1cblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLm9uV2luZG93UmVzaXplKVxuICAgIHRoaXMucmFmID0gcnFBbkZyKHRoaXMub25BbmltYXRpb25GcmFtZSlcbiAgfVxuXG4gIGRpc2FibGUoKSB7XG4gICAgaWYgKCF0aGlzLmVuYWJsZWQpIHtcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICB0aGlzLmVuYWJsZWQgPSBmYWxzZVxuXG4gICAgaWYgKHRoaXMub3JpZW50YXRpb25TdXBwb3J0KSB7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignZGV2aWNlb3JpZW50YXRpb24nLCB0aGlzLm9uRGV2aWNlT3JpZW50YXRpb24pXG4gICAgfSBlbHNlIGlmICh0aGlzLm1vdGlvblN1cHBvcnQpIHtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdkZXZpY2Vtb3Rpb24nLCB0aGlzLm9uRGV2aWNlTW90aW9uKVxuICAgIH0gZWxzZSB7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5vbk1vdXNlTW92ZSlcbiAgICB9XG5cbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5vbldpbmRvd1Jlc2l6ZSlcbiAgICBycUFuRnIuY2FuY2VsKHRoaXMucmFmKVxuICB9XG5cbiAgY2FsaWJyYXRlKHgsIHkpIHtcbiAgICB0aGlzLmNhbGlicmF0ZVggPSB4ID09PSB1bmRlZmluZWQgPyB0aGlzLmNhbGlicmF0ZVggOiB4XG4gICAgdGhpcy5jYWxpYnJhdGVZID0geSA9PT0gdW5kZWZpbmVkID8gdGhpcy5jYWxpYnJhdGVZIDogeVxuICB9XG5cbiAgaW52ZXJ0KHgsIHkpIHtcbiAgICB0aGlzLmludmVydFggPSB4ID09PSB1bmRlZmluZWQgPyB0aGlzLmludmVydFggOiB4XG4gICAgdGhpcy5pbnZlcnRZID0geSA9PT0gdW5kZWZpbmVkID8gdGhpcy5pbnZlcnRZIDogeVxuICB9XG5cbiAgZnJpY3Rpb24oeCwgeSkge1xuICAgIHRoaXMuZnJpY3Rpb25YID0geCA9PT0gdW5kZWZpbmVkID8gdGhpcy5mcmljdGlvblggOiB4XG4gICAgdGhpcy5mcmljdGlvblkgPSB5ID09PSB1bmRlZmluZWQgPyB0aGlzLmZyaWN0aW9uWSA6IHlcbiAgfVxuXG4gIHNjYWxhcih4LCB5KSB7XG4gICAgdGhpcy5zY2FsYXJYID0geCA9PT0gdW5kZWZpbmVkID8gdGhpcy5zY2FsYXJYIDogeFxuICAgIHRoaXMuc2NhbGFyWSA9IHkgPT09IHVuZGVmaW5lZCA/IHRoaXMuc2NhbGFyWSA6IHlcbiAgfVxuXG4gIGxpbWl0KHgsIHkpIHtcbiAgICB0aGlzLmxpbWl0WCA9IHggPT09IHVuZGVmaW5lZCA/IHRoaXMubGltaXRYIDogeFxuICAgIHRoaXMubGltaXRZID0geSA9PT0gdW5kZWZpbmVkID8gdGhpcy5saW1pdFkgOiB5XG4gIH1cblxuICBvcmlnaW4oeCwgeSkge1xuICAgIHRoaXMub3JpZ2luWCA9IHggPT09IHVuZGVmaW5lZCA/IHRoaXMub3JpZ2luWCA6IHhcbiAgICB0aGlzLm9yaWdpblkgPSB5ID09PSB1bmRlZmluZWQgPyB0aGlzLm9yaWdpblkgOiB5XG4gIH1cblxuICBzZXRJbnB1dEVsZW1lbnQoZWxlbWVudCkge1xuICAgIHRoaXMuaW5wdXRFbGVtZW50ID0gZWxlbWVudFxuICAgIHRoaXMudXBkYXRlRGltZW5zaW9ucygpXG4gIH1cblxuICBzZXRQb3NpdGlvbihlbGVtZW50LCB4LCB5KSB7XG4gICAgeCA9IHgudG9GaXhlZCh0aGlzLnByZWNpc2lvbikgKyAncHgnXG4gICAgeSA9IHkudG9GaXhlZCh0aGlzLnByZWNpc2lvbikgKyAncHgnXG4gICAgaWYgKHRoaXMudHJhbnNmb3JtM0RTdXBwb3J0KSB7XG4gICAgICBoZWxwZXJzLmNzcyhlbGVtZW50LCAndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZTNkKCcgKyB4ICsgJywnICsgeSArICcsMCknKVxuICAgIH0gZWxzZSBpZiAodGhpcy50cmFuc2Zvcm0yRFN1cHBvcnQpIHtcbiAgICAgIGhlbHBlcnMuY3NzKGVsZW1lbnQsICd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKCcgKyB4ICsgJywnICsgeSArICcpJylcbiAgICB9IGVsc2Uge1xuICAgICAgZWxlbWVudC5zdHlsZS5sZWZ0ID0geFxuICAgICAgZWxlbWVudC5zdHlsZS50b3AgPSB5XG4gICAgfVxuICB9XG5cbiAgb25PcmllbnRhdGlvblRpbWVyKCkge1xuICAgIGlmICh0aGlzLm9yaWVudGF0aW9uU3VwcG9ydCAmJiB0aGlzLm9yaWVudGF0aW9uU3RhdHVzID09PSAwKSB7XG4gICAgICB0aGlzLmRpc2FibGUoKVxuICAgICAgdGhpcy5vcmllbnRhdGlvblN1cHBvcnQgPSBmYWxzZVxuICAgICAgdGhpcy5lbmFibGUoKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmRvUmVhZHlDYWxsYmFjaygpXG4gICAgfVxuICB9XG5cbiAgb25Nb3Rpb25UaW1lcigpIHtcbiAgICBpZiAodGhpcy5tb3Rpb25TdXBwb3J0ICYmIHRoaXMubW90aW9uU3RhdHVzID09PSAwKSB7XG4gICAgICB0aGlzLmRpc2FibGUoKVxuICAgICAgdGhpcy5tb3Rpb25TdXBwb3J0ID0gZmFsc2VcbiAgICAgIHRoaXMuZW5hYmxlKClcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5kb1JlYWR5Q2FsbGJhY2soKVxuICAgIH1cbiAgfVxuXG4gIG9uQ2FsaWJyYXRpb25UaW1lcigpIHtcbiAgICB0aGlzLmNhbGlicmF0aW9uRmxhZyA9IHRydWVcbiAgfVxuXG4gIG9uV2luZG93UmVzaXplKCkge1xuICAgIHRoaXMudXBkYXRlRGltZW5zaW9ucygpXG4gIH1cblxuICBvbkFuaW1hdGlvbkZyYW1lKCkge1xuICAgIHRoaXMudXBkYXRlQm91bmRzKClcbiAgICBsZXQgY2FsaWJyYXRlZElucHV0WCA9IHRoaXMuaW5wdXRYIC0gdGhpcy5jYWxpYnJhdGlvblgsXG4gICAgICAgIGNhbGlicmF0ZWRJbnB1dFkgPSB0aGlzLmlucHV0WSAtIHRoaXMuY2FsaWJyYXRpb25ZXG4gICAgaWYgKChNYXRoLmFicyhjYWxpYnJhdGVkSW5wdXRYKSA+IHRoaXMuY2FsaWJyYXRpb25UaHJlc2hvbGQpIHx8IChNYXRoLmFicyhjYWxpYnJhdGVkSW5wdXRZKSA+IHRoaXMuY2FsaWJyYXRpb25UaHJlc2hvbGQpKSB7XG4gICAgICB0aGlzLnF1ZXVlQ2FsaWJyYXRpb24oMClcbiAgICB9XG4gICAgaWYgKHRoaXMucG9ydHJhaXQpIHtcbiAgICAgIHRoaXMubW90aW9uWCA9IHRoaXMuY2FsaWJyYXRlWCA/IGNhbGlicmF0ZWRJbnB1dFkgOiB0aGlzLmlucHV0WVxuICAgICAgdGhpcy5tb3Rpb25ZID0gdGhpcy5jYWxpYnJhdGVZID8gY2FsaWJyYXRlZElucHV0WCA6IHRoaXMuaW5wdXRYXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMubW90aW9uWCA9IHRoaXMuY2FsaWJyYXRlWCA/IGNhbGlicmF0ZWRJbnB1dFggOiB0aGlzLmlucHV0WFxuICAgICAgdGhpcy5tb3Rpb25ZID0gdGhpcy5jYWxpYnJhdGVZID8gY2FsaWJyYXRlZElucHV0WSA6IHRoaXMuaW5wdXRZXG4gICAgfVxuICAgIHRoaXMubW90aW9uWCAqPSB0aGlzLmVsZW1lbnRXaWR0aCAqICh0aGlzLnNjYWxhclggLyAxMDApXG4gICAgdGhpcy5tb3Rpb25ZICo9IHRoaXMuZWxlbWVudEhlaWdodCAqICh0aGlzLnNjYWxhclkgLyAxMDApXG4gICAgaWYgKCFpc05hTihwYXJzZUZsb2F0KHRoaXMubGltaXRYKSkpIHtcbiAgICAgIHRoaXMubW90aW9uWCA9IGhlbHBlcnMuY2xhbXAodGhpcy5tb3Rpb25YLCAtdGhpcy5saW1pdFgsIHRoaXMubGltaXRYKVxuICAgIH1cbiAgICBpZiAoIWlzTmFOKHBhcnNlRmxvYXQodGhpcy5saW1pdFkpKSkge1xuICAgICAgdGhpcy5tb3Rpb25ZID0gaGVscGVycy5jbGFtcCh0aGlzLm1vdGlvblksIC10aGlzLmxpbWl0WSwgdGhpcy5saW1pdFkpXG4gICAgfVxuICAgIHRoaXMudmVsb2NpdHlYICs9ICh0aGlzLm1vdGlvblggLSB0aGlzLnZlbG9jaXR5WCkgKiB0aGlzLmZyaWN0aW9uWFxuICAgIHRoaXMudmVsb2NpdHlZICs9ICh0aGlzLm1vdGlvblkgLSB0aGlzLnZlbG9jaXR5WSkgKiB0aGlzLmZyaWN0aW9uWVxuICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCB0aGlzLmxheWVycy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgIGxldCBsYXllciA9IHRoaXMubGF5ZXJzW2luZGV4XSxcbiAgICAgICAgICBkZXB0aFggPSB0aGlzLmRlcHRoc1hbaW5kZXhdLFxuICAgICAgICAgIGRlcHRoWSA9IHRoaXMuZGVwdGhzWVtpbmRleF0sXG4gICAgICAgICAgeE9mZnNldCA9IHRoaXMudmVsb2NpdHlYICogKGRlcHRoWCAqICh0aGlzLmludmVydFggPyAtMSA6IDEpKSxcbiAgICAgICAgICB5T2Zmc2V0ID0gdGhpcy52ZWxvY2l0eVkgKiAoZGVwdGhZICogKHRoaXMuaW52ZXJ0WSA/IC0xIDogMSkpXG4gICAgICB0aGlzLnNldFBvc2l0aW9uKGxheWVyLCB4T2Zmc2V0LCB5T2Zmc2V0KVxuICAgIH1cbiAgICB0aGlzLnJhZiA9IHJxQW5Gcih0aGlzLm9uQW5pbWF0aW9uRnJhbWUpXG4gIH1cblxuICByb3RhdGUoYmV0YSwgZ2FtbWEpe1xuICAgIC8vIEV4dHJhY3QgUm90YXRpb25cbiAgICBsZXQgeCA9IChiZXRhIHx8IDApIC8gTUFHSUNfTlVNQkVSLCAvLyAgLTkwIDo6IDkwXG4gICAgICAgIHkgPSAoZ2FtbWEgfHwgMCkgLyBNQUdJQ19OVU1CRVIgLy8gLTE4MCA6OiAxODBcblxuICAgIC8vIERldGVjdCBPcmllbnRhdGlvbiBDaGFuZ2VcbiAgICBsZXQgcG9ydHJhaXQgPSB0aGlzLndpbmRvd0hlaWdodCA+IHRoaXMud2luZG93V2lkdGhcbiAgICBpZiAodGhpcy5wb3J0cmFpdCAhPT0gcG9ydHJhaXQpIHtcbiAgICAgIHRoaXMucG9ydHJhaXQgPSBwb3J0cmFpdFxuICAgICAgdGhpcy5jYWxpYnJhdGlvbkZsYWcgPSB0cnVlXG4gICAgfVxuXG4gICAgaWYgKHRoaXMuY2FsaWJyYXRpb25GbGFnKSB7XG4gICAgICB0aGlzLmNhbGlicmF0aW9uRmxhZyA9IGZhbHNlXG4gICAgICB0aGlzLmNhbGlicmF0aW9uWCA9IHhcbiAgICAgIHRoaXMuY2FsaWJyYXRpb25ZID0geVxuICAgIH1cblxuICAgIHRoaXMuaW5wdXRYID0geFxuICAgIHRoaXMuaW5wdXRZID0geVxuICB9XG5cbiAgb25EZXZpY2VPcmllbnRhdGlvbihldmVudCkge1xuICAgIGxldCBiZXRhID0gZXZlbnQuYmV0YVxuICAgIGxldCBnYW1tYSA9IGV2ZW50LmdhbW1hXG4gICAgaWYgKGJldGEgIT09IG51bGwgJiYgZ2FtbWEgIT09IG51bGwpIHtcbiAgICAgIHRoaXMub3JpZW50YXRpb25TdGF0dXMgPSAxXG4gICAgICB0aGlzLnJvdGF0ZShiZXRhLCBnYW1tYSlcbiAgICB9XG4gIH1cblxuICBvbkRldmljZU1vdGlvbihldmVudCkge1xuICAgIGxldCBiZXRhID0gZXZlbnQucm90YXRpb25SYXRlLmJldGFcbiAgICBsZXQgZ2FtbWEgPSBldmVudC5yb3RhdGlvblJhdGUuZ2FtbWFcbiAgICBpZiAoYmV0YSAhPT0gbnVsbCAmJiBnYW1tYSAhPT0gbnVsbCkge1xuICAgICAgdGhpcy5tb3Rpb25TdGF0dXMgPSAxXG4gICAgICB0aGlzLnJvdGF0ZShiZXRhLCBnYW1tYSlcbiAgICB9XG4gIH1cblxuICBvbk1vdXNlTW92ZShldmVudCkge1xuICAgIGxldCBjbGllbnRYID0gZXZlbnQuY2xpZW50WCxcbiAgICAgICAgY2xpZW50WSA9IGV2ZW50LmNsaWVudFlcblxuICAgIC8vIHJlc2V0IGlucHV0IHRvIGNlbnRlciBpZiBob3Zlck9ubHkgaXMgc2V0IGFuZCB3ZSdyZSBub3QgaG92ZXJpbmcgdGhlIGVsZW1lbnRcbiAgICBpZih0aGlzLmhvdmVyT25seSAmJlxuICAgICAgKChjbGllbnRYIDwgdGhpcy5lbGVtZW50UG9zaXRpb25YIHx8IGNsaWVudFggPiB0aGlzLmVsZW1lbnRQb3NpdGlvblggKyB0aGlzLmVsZW1lbnRXaWR0aCkgfHxcbiAgICAgIChjbGllbnRZIDwgdGhpcy5lbGVtZW50UG9zaXRpb25ZIHx8IGNsaWVudFkgPiB0aGlzLmVsZW1lbnRQb3NpdGlvblkgKyB0aGlzLmVsZW1lbnRIZWlnaHQpKSkge1xuICAgICAgICB0aGlzLmlucHV0WCA9IDBcbiAgICAgICAgdGhpcy5pbnB1dFkgPSAwXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgaWYgKHRoaXMucmVsYXRpdmVJbnB1dCkge1xuICAgICAgLy8gQ2xpcCBtb3VzZSBjb29yZGluYXRlcyBpbnNpZGUgZWxlbWVudCBib3VuZHMuXG4gICAgICBpZiAodGhpcy5jbGlwUmVsYXRpdmVJbnB1dCkge1xuICAgICAgICBjbGllbnRYID0gTWF0aC5tYXgoY2xpZW50WCwgdGhpcy5lbGVtZW50UG9zaXRpb25YKVxuICAgICAgICBjbGllbnRYID0gTWF0aC5taW4oY2xpZW50WCwgdGhpcy5lbGVtZW50UG9zaXRpb25YICsgdGhpcy5lbGVtZW50V2lkdGgpXG4gICAgICAgIGNsaWVudFkgPSBNYXRoLm1heChjbGllbnRZLCB0aGlzLmVsZW1lbnRQb3NpdGlvblkpXG4gICAgICAgIGNsaWVudFkgPSBNYXRoLm1pbihjbGllbnRZLCB0aGlzLmVsZW1lbnRQb3NpdGlvblkgKyB0aGlzLmVsZW1lbnRIZWlnaHQpXG4gICAgICB9XG4gICAgICAvLyBDYWxjdWxhdGUgaW5wdXQgcmVsYXRpdmUgdG8gdGhlIGVsZW1lbnQuXG4gICAgICBpZih0aGlzLmVsZW1lbnRSYW5nZVggJiYgdGhpcy5lbGVtZW50UmFuZ2VZKSB7XG4gICAgICAgIHRoaXMuaW5wdXRYID0gKGNsaWVudFggLSB0aGlzLmVsZW1lbnRQb3NpdGlvblggLSB0aGlzLmVsZW1lbnRDZW50ZXJYKSAvIHRoaXMuZWxlbWVudFJhbmdlWFxuICAgICAgICB0aGlzLmlucHV0WSA9IChjbGllbnRZIC0gdGhpcy5lbGVtZW50UG9zaXRpb25ZIC0gdGhpcy5lbGVtZW50Q2VudGVyWSkgLyB0aGlzLmVsZW1lbnRSYW5nZVlcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gQ2FsY3VsYXRlIGlucHV0IHJlbGF0aXZlIHRvIHRoZSB3aW5kb3cuXG4gICAgICBpZih0aGlzLndpbmRvd1JhZGl1c1ggJiYgdGhpcy53aW5kb3dSYWRpdXNZKSB7XG4gICAgICAgIHRoaXMuaW5wdXRYID0gKGNsaWVudFggLSB0aGlzLndpbmRvd0NlbnRlclgpIC8gdGhpcy53aW5kb3dSYWRpdXNYXG4gICAgICAgIHRoaXMuaW5wdXRZID0gKGNsaWVudFkgLSB0aGlzLndpbmRvd0NlbnRlclkpIC8gdGhpcy53aW5kb3dSYWRpdXNZXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLmRpc2FibGUoKVxuXG4gICAgY2xlYXJUaW1lb3V0KHRoaXMuY2FsaWJyYXRpb25UaW1lcilcbiAgICBjbGVhclRpbWVvdXQodGhpcy5kZXRlY3Rpb25UaW1lcilcblxuICAgIHRoaXMuZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ3N0eWxlJylcbiAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgdGhpcy5sYXllcnMubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICB0aGlzLmxheWVyc1tpbmRleF0ucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpXG4gICAgfVxuXG4gICAgZGVsZXRlIHRoaXMuZWxlbWVudFxuICAgIGRlbGV0ZSB0aGlzLmxheWVyc1xuICB9XG5cbiAgdmVyc2lvbigpIHtcbiAgICByZXR1cm4gJzMuMS4wJ1xuICB9XG5cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBQYXJhbGxheFxuIl19\n","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","import toPropertyKey from \"./toPropertyKey.js\";\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, toPropertyKey(descriptor.key), descriptor);\n  }\n}\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}","import toPropertyKey from \"./toPropertyKey.js\";\nexport default function _defineProperty(obj, key, value) {\n  key = toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}","import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nexport default function _toPropertyKey(arg) {\n  var key = toPrimitive(arg, \"string\");\n  return _typeof(key) === \"symbol\" ? key : String(key);\n}","import _typeof from \"./typeof.js\";\nexport default function _toPrimitive(input, hint) {\n  if (_typeof(input) !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (_typeof(res) !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}","/** Checks if value is string */\nfunction isString(str) {\n  return typeof str === 'string' || str instanceof String;\n}\n\n/** Checks if value is object */\nfunction isObject(obj) {\n  return typeof obj === 'object' && obj != null && obj?.constructor?.name === 'Object';\n}\nfunction pick(obj, keys) {\n  if (Array.isArray(keys)) return pick(obj, (_, k) => keys.includes(k));\n  return Object.entries(obj).reduce((acc, _ref) => {\n    let [k, v] = _ref;\n    if (keys(v, k)) acc[k] = v;\n    return acc;\n  }, {});\n}\n\n/** Direction */\nconst DIRECTION = {\n  NONE: 'NONE',\n  LEFT: 'LEFT',\n  FORCE_LEFT: 'FORCE_LEFT',\n  RIGHT: 'RIGHT',\n  FORCE_RIGHT: 'FORCE_RIGHT'\n};\n\n/** Direction */\n\nfunction forceDirection(direction) {\n  switch (direction) {\n    case DIRECTION.LEFT:\n      return DIRECTION.FORCE_LEFT;\n    case DIRECTION.RIGHT:\n      return DIRECTION.FORCE_RIGHT;\n    default:\n      return direction;\n  }\n}\n\n/** Escapes regular expression control chars */\nfunction escapeRegExp(str) {\n  return str.replace(/([.*+?^=!:${}()|[\\]/\\\\])/g, '\\\\$1');\n}\n\n// cloned from https://github.com/epoberezkin/fast-deep-equal with small changes\nfunction objectIncludes(b, a) {\n  if (a === b) return true;\n  const arrA = Array.isArray(a),\n    arrB = Array.isArray(b);\n  let i;\n  if (arrA && arrB) {\n    if (a.length != b.length) return false;\n    for (i = 0; i < a.length; i++) if (!objectIncludes(a[i], b[i])) return false;\n    return true;\n  }\n  if (arrA != arrB) return false;\n  if (a && b && typeof a === 'object' && typeof b === 'object') {\n    const dateA = a instanceof Date,\n      dateB = b instanceof Date;\n    if (dateA && dateB) return a.getTime() == b.getTime();\n    if (dateA != dateB) return false;\n    const regexpA = a instanceof RegExp,\n      regexpB = b instanceof RegExp;\n    if (regexpA && regexpB) return a.toString() == b.toString();\n    if (regexpA != regexpB) return false;\n    const keys = Object.keys(a);\n    // if (keys.length !== Object.keys(b).length) return false;\n\n    for (i = 0; i < keys.length; i++) if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n    for (i = 0; i < keys.length; i++) if (!objectIncludes(b[keys[i]], a[keys[i]])) return false;\n    return true;\n  } else if (a && b && typeof a === 'function' && typeof b === 'function') {\n    return a.toString() === b.toString();\n  }\n  return false;\n}\n\n/** Selection range */\n\nexport { DIRECTION, escapeRegExp, forceDirection, isObject, isString, objectIncludes, pick };\n","import { DIRECTION } from './utils.js';\n\n/** Provides details of changing input */\nclass ActionDetails {\n  /** Current input value */\n\n  /** Current cursor position */\n\n  /** Old input value */\n\n  /** Old selection */\n\n  constructor(opts) {\n    Object.assign(this, opts);\n\n    // double check if left part was changed (autofilling, other non-standard input triggers)\n    while (this.value.slice(0, this.startChangePos) !== this.oldValue.slice(0, this.startChangePos)) {\n      --this.oldSelection.start;\n    }\n\n    // double check right part\n    while (this.value.slice(this.cursorPos) !== this.oldValue.slice(this.oldSelection.end)) {\n      if (this.value.length - this.cursorPos < this.oldValue.length - this.oldSelection.end) ++this.oldSelection.end;else ++this.cursorPos;\n    }\n  }\n\n  /** Start changing position */\n  get startChangePos() {\n    return Math.min(this.cursorPos, this.oldSelection.start);\n  }\n\n  /** Inserted symbols count */\n  get insertedCount() {\n    return this.cursorPos - this.startChangePos;\n  }\n\n  /** Inserted symbols */\n  get inserted() {\n    return this.value.substr(this.startChangePos, this.insertedCount);\n  }\n\n  /** Removed symbols count */\n  get removedCount() {\n    // Math.max for opposite operation\n    return Math.max(this.oldSelection.end - this.startChangePos ||\n    // for Delete\n    this.oldValue.length - this.value.length, 0);\n  }\n\n  /** Removed symbols */\n  get removed() {\n    return this.oldValue.substr(this.startChangePos, this.removedCount);\n  }\n\n  /** Unchanged head symbols */\n  get head() {\n    return this.value.substring(0, this.startChangePos);\n  }\n\n  /** Unchanged tail symbols */\n  get tail() {\n    return this.value.substring(this.startChangePos + this.insertedCount);\n  }\n\n  /** Remove direction */\n  get removeDirection() {\n    if (!this.removedCount || this.insertedCount) return DIRECTION.NONE;\n\n    // align right if delete at right\n    return (this.oldSelection.end === this.cursorPos || this.oldSelection.start === this.cursorPos) &&\n    // if not range removed (event with backspace)\n    this.oldSelection.end === this.oldSelection.start ? DIRECTION.RIGHT : DIRECTION.LEFT;\n  }\n}\n\nexport { ActionDetails as default };\n","/** Applies mask on element */\nfunction IMask(el, opts) {\n  // currently available only for input-like elements\n  return new IMask.InputMask(el, opts);\n}\n\nexport { IMask as default };\n","import { isString, isObject, pick } from '../core/utils.js';\nimport IMask from '../core/holder.js';\n\n// TODO can't use overloads here because of https://github.com/microsoft/TypeScript/issues/50754\n// export function maskedClass(mask: string): typeof MaskedPattern;\n// export function maskedClass(mask: DateConstructor): typeof MaskedDate;\n// export function maskedClass(mask: NumberConstructor): typeof MaskedNumber;\n// export function maskedClass(mask: Array<any> | ArrayConstructor): typeof MaskedDynamic;\n// export function maskedClass(mask: MaskedDate): typeof MaskedDate;\n// export function maskedClass(mask: MaskedNumber): typeof MaskedNumber;\n// export function maskedClass(mask: MaskedEnum): typeof MaskedEnum;\n// export function maskedClass(mask: MaskedRange): typeof MaskedRange;\n// export function maskedClass(mask: MaskedRegExp): typeof MaskedRegExp;\n// export function maskedClass(mask: MaskedFunction): typeof MaskedFunction;\n// export function maskedClass(mask: MaskedPattern): typeof MaskedPattern;\n// export function maskedClass(mask: MaskedDynamic): typeof MaskedDynamic;\n// export function maskedClass(mask: Masked): typeof Masked;\n// export function maskedClass(mask: typeof Masked): typeof Masked;\n// export function maskedClass(mask: typeof MaskedDate): typeof MaskedDate;\n// export function maskedClass(mask: typeof MaskedNumber): typeof MaskedNumber;\n// export function maskedClass(mask: typeof MaskedEnum): typeof MaskedEnum;\n// export function maskedClass(mask: typeof MaskedRange): typeof MaskedRange;\n// export function maskedClass(mask: typeof MaskedRegExp): typeof MaskedRegExp;\n// export function maskedClass(mask: typeof MaskedFunction): typeof MaskedFunction;\n// export function maskedClass(mask: typeof MaskedPattern): typeof MaskedPattern;\n// export function maskedClass(mask: typeof MaskedDynamic): typeof MaskedDynamic;\n// export function maskedClass<Mask extends typeof Masked> (mask: Mask): Mask;\n// export function maskedClass(mask: RegExp): typeof MaskedRegExp;\n// export function maskedClass(mask: (value: string, ...args: any[]) => boolean): typeof MaskedFunction;\n\n/** Get Masked class by mask type */\nfunction maskedClass(mask) /* TODO */{\n  if (mask == null) throw new Error('mask property should be defined');\n  if (mask instanceof RegExp) return IMask.MaskedRegExp;\n  if (isString(mask)) return IMask.MaskedPattern;\n  if (mask === Date) return IMask.MaskedDate;\n  if (mask === Number) return IMask.MaskedNumber;\n  if (Array.isArray(mask) || mask === Array) return IMask.MaskedDynamic;\n  if (IMask.Masked && mask.prototype instanceof IMask.Masked) return mask;\n  if (IMask.Masked && mask instanceof IMask.Masked) return mask.constructor;\n  if (mask instanceof Function) return IMask.MaskedFunction;\n  console.warn('Mask not found for mask', mask); // eslint-disable-line no-console\n  return IMask.Masked;\n}\nfunction normalizeOpts(opts) {\n  if (!opts) throw new Error('Options in not defined');\n  if (IMask.Masked) {\n    if (opts.prototype instanceof IMask.Masked) return {\n      mask: opts\n    };\n\n    /*\n      handle cases like:\n      1) opts = Masked\n      2) opts = { mask: Masked, ...instanceOpts }\n    */\n    const {\n      mask = undefined,\n      ...instanceOpts\n    } = opts instanceof IMask.Masked ? {\n      mask: opts\n    } : isObject(opts) && opts.mask instanceof IMask.Masked ? opts : {};\n    if (mask) {\n      const _mask = mask.mask;\n      return {\n        ...pick(mask, (_, k) => !k.startsWith('_')),\n        mask: mask.constructor,\n        _mask,\n        ...instanceOpts\n      };\n    }\n  }\n  if (!isObject(opts)) return {\n    mask: opts\n  };\n  return {\n    ...opts\n  };\n}\n\n// TODO can't use overloads here because of https://github.com/microsoft/TypeScript/issues/50754\n\n// From masked\n// export default function createMask<Opts extends Masked, ReturnMasked=Opts> (opts: Opts): ReturnMasked;\n// // From masked class\n// export default function createMask<Opts extends MaskedOptions<typeof Masked>, ReturnMasked extends Masked=InstanceType<Opts['mask']>> (opts: Opts): ReturnMasked;\n// export default function createMask<Opts extends MaskedOptions<typeof MaskedDate>, ReturnMasked extends MaskedDate=MaskedDate<Opts['parent']>> (opts: Opts): ReturnMasked;\n// export default function createMask<Opts extends MaskedOptions<typeof MaskedNumber>, ReturnMasked extends MaskedNumber=MaskedNumber<Opts['parent']>> (opts: Opts): ReturnMasked;\n// export default function createMask<Opts extends MaskedOptions<typeof MaskedEnum>, ReturnMasked extends MaskedEnum=MaskedEnum<Opts['parent']>> (opts: Opts): ReturnMasked;\n// export default function createMask<Opts extends MaskedOptions<typeof MaskedRange>, ReturnMasked extends MaskedRange=MaskedRange<Opts['parent']>> (opts: Opts): ReturnMasked;\n// export default function createMask<Opts extends MaskedOptions<typeof MaskedRegExp>, ReturnMasked extends MaskedRegExp=MaskedRegExp<Opts['parent']>> (opts: Opts): ReturnMasked;\n// export default function createMask<Opts extends MaskedOptions<typeof MaskedFunction>, ReturnMasked extends MaskedFunction=MaskedFunction<Opts['parent']>> (opts: Opts): ReturnMasked;\n// export default function createMask<Opts extends MaskedOptions<typeof MaskedPattern>, ReturnMasked extends MaskedPattern=MaskedPattern<Opts['parent']>> (opts: Opts): ReturnMasked;\n// export default function createMask<Opts extends MaskedOptions<typeof MaskedDynamic>, ReturnMasked extends MaskedDynamic=MaskedDynamic<Opts['parent']>> (opts: Opts): ReturnMasked;\n// // From mask opts\n// export default function createMask<Opts extends MaskedOptions<Masked>, ReturnMasked=Opts extends MaskedOptions<infer M> ? M : never> (opts: Opts): ReturnMasked;\n// export default function createMask<Opts extends MaskedNumberOptions, ReturnMasked extends MaskedNumber=MaskedNumber<Opts['parent']>> (opts: Opts): ReturnMasked;\n// export default function createMask<Opts extends MaskedDateFactoryOptions, ReturnMasked extends MaskedDate=MaskedDate<Opts['parent']>> (opts: Opts): ReturnMasked;\n// export default function createMask<Opts extends MaskedEnumOptions, ReturnMasked extends MaskedEnum=MaskedEnum<Opts['parent']>> (opts: Opts): ReturnMasked;\n// export default function createMask<Opts extends MaskedRangeOptions, ReturnMasked extends MaskedRange=MaskedRange<Opts['parent']>> (opts: Opts): ReturnMasked;\n// export default function createMask<Opts extends MaskedPatternOptions, ReturnMasked extends MaskedPattern=MaskedPattern<Opts['parent']>> (opts: Opts): ReturnMasked;\n// export default function createMask<Opts extends MaskedDynamicOptions, ReturnMasked extends MaskedDynamic=MaskedDynamic<Opts['parent']>> (opts: Opts): ReturnMasked;\n// export default function createMask<Opts extends MaskedOptions<RegExp>, ReturnMasked extends MaskedRegExp=MaskedRegExp<Opts['parent']>> (opts: Opts): ReturnMasked;\n// export default function createMask<Opts extends MaskedOptions<Function>, ReturnMasked extends MaskedFunction=MaskedFunction<Opts['parent']>> (opts: Opts): ReturnMasked;\n\n/** Creates new {@link Masked} depending on mask type */\nfunction createMask(opts) {\n  if (IMask.Masked && opts instanceof IMask.Masked) return opts;\n  const nOpts = normalizeOpts(opts);\n  const MaskedClass = maskedClass(nOpts.mask);\n  if (!MaskedClass) throw new Error(`Masked class is not found for provided mask ${nOpts.mask}, appropriate module needs to be imported manually before creating mask.`);\n  if (nOpts.mask === MaskedClass) delete nOpts.mask;\n  if (nOpts._mask) {\n    nOpts.mask = nOpts._mask;\n    delete nOpts._mask;\n  }\n  return new MaskedClass(nOpts);\n}\nIMask.createMask = createMask;\n\nexport { createMask as default, maskedClass, normalizeOpts };\n","import IMask from '../core/holder.js';\n\n/**  Generic element API to use with mask */\nclass MaskElement {\n  /** */\n\n  /** */\n\n  /** */\n\n  /** Safely returns selection start */\n  get selectionStart() {\n    let start;\n    try {\n      start = this._unsafeSelectionStart;\n    } catch {}\n    return start != null ? start : this.value.length;\n  }\n\n  /** Safely returns selection end */\n  get selectionEnd() {\n    let end;\n    try {\n      end = this._unsafeSelectionEnd;\n    } catch {}\n    return end != null ? end : this.value.length;\n  }\n\n  /** Safely sets element selection */\n  select(start, end) {\n    if (start == null || end == null || start === this.selectionStart && end === this.selectionEnd) return;\n    try {\n      this._unsafeSelect(start, end);\n    } catch {}\n  }\n\n  /** */\n  get isActive() {\n    return false;\n  }\n  /** */\n\n  /** */\n\n  /** */\n}\nIMask.MaskElement = MaskElement;\n\nexport { MaskElement as default };\n","import MaskElement from './mask-element.js';\nimport IMask from '../core/holder.js';\n\n/** Bridge between HTMLElement and {@link Masked} */\nclass HTMLMaskElement extends MaskElement {\n  /** Mapping between HTMLElement events and mask internal events */\n  static EVENTS_MAP = {\n    selectionChange: 'keydown',\n    input: 'input',\n    drop: 'drop',\n    click: 'click',\n    focus: 'focus',\n    commit: 'blur'\n  };\n  /** HTMLElement to use mask on */\n\n  constructor(input) {\n    super();\n    this.input = input;\n    this._handlers = {};\n  }\n  get rootElement() {\n    return this.input.getRootNode?.() ?? document;\n  }\n\n  /**\n    Is element in focus\n  */\n  get isActive() {\n    return this.input === this.rootElement.activeElement;\n  }\n\n  /**\n    Binds HTMLElement events to mask internal events\n  */\n  bindEvents(handlers) {\n    Object.keys(handlers).forEach(event => this._toggleEventHandler(HTMLMaskElement.EVENTS_MAP[event], handlers[event]));\n  }\n\n  /**\n    Unbinds HTMLElement events to mask internal events\n  */\n  unbindEvents() {\n    Object.keys(this._handlers).forEach(event => this._toggleEventHandler(event));\n  }\n  _toggleEventHandler(event, handler) {\n    if (this._handlers[event]) {\n      this.input.removeEventListener(event, this._handlers[event]);\n      delete this._handlers[event];\n    }\n    if (handler) {\n      this.input.addEventListener(event, handler);\n      this._handlers[event] = handler;\n    }\n  }\n}\nIMask.HTMLMaskElement = HTMLMaskElement;\n\nexport { HTMLMaskElement as default };\n","import HTMLMaskElement from './html-mask-element.js';\nimport IMask from '../core/holder.js';\nimport './mask-element.js';\n\n/** Bridge between InputElement and {@link Masked} */\nclass HTMLInputMaskElement extends HTMLMaskElement {\n  /** InputElement to use mask on */\n\n  constructor(input) {\n    super(input);\n    this.input = input;\n    this._handlers = {};\n  }\n\n  /** Returns InputElement selection start */\n  get _unsafeSelectionStart() {\n    return this.input.selectionStart != null ? this.input.selectionStart : this.value.length;\n  }\n\n  /** Returns InputElement selection end */\n  get _unsafeSelectionEnd() {\n    return this.input.selectionEnd;\n  }\n\n  /** Sets InputElement selection */\n  _unsafeSelect(start, end) {\n    this.input.setSelectionRange(start, end);\n  }\n  get value() {\n    return this.input.value;\n  }\n  set value(value) {\n    this.input.value = value;\n  }\n}\nIMask.HTMLMaskElement = HTMLMaskElement;\n\nexport { HTMLInputMaskElement as default };\n","import HTMLMaskElement from './html-mask-element.js';\nimport IMask from '../core/holder.js';\nimport './mask-element.js';\n\nclass HTMLContenteditableMaskElement extends HTMLMaskElement {\n  /** Returns HTMLElement selection start */\n  get _unsafeSelectionStart() {\n    const root = this.rootElement;\n    const selection = root.getSelection && root.getSelection();\n    const anchorOffset = selection && selection.anchorOffset;\n    const focusOffset = selection && selection.focusOffset;\n    if (focusOffset == null || anchorOffset == null || anchorOffset < focusOffset) {\n      return anchorOffset;\n    }\n    return focusOffset;\n  }\n\n  /** Returns HTMLElement selection end */\n  get _unsafeSelectionEnd() {\n    const root = this.rootElement;\n    const selection = root.getSelection && root.getSelection();\n    const anchorOffset = selection && selection.anchorOffset;\n    const focusOffset = selection && selection.focusOffset;\n    if (focusOffset == null || anchorOffset == null || anchorOffset > focusOffset) {\n      return anchorOffset;\n    }\n    return focusOffset;\n  }\n\n  /** Sets HTMLElement selection */\n  _unsafeSelect(start, end) {\n    if (!this.rootElement.createRange) return;\n    const range = this.rootElement.createRange();\n    range.setStart(this.input.firstChild || this.input, start);\n    range.setEnd(this.input.lastChild || this.input, end);\n    const root = this.rootElement;\n    const selection = root.getSelection && root.getSelection();\n    if (selection) {\n      selection.removeAllRanges();\n      selection.addRange(range);\n    }\n  }\n\n  /** HTMLElement value */\n  get value() {\n    return this.input.textContent || '';\n  }\n  set value(value) {\n    this.input.textContent = value;\n  }\n}\nIMask.HTMLContenteditableMaskElement = HTMLContenteditableMaskElement;\n\nexport { HTMLContenteditableMaskElement as default };\n","import { DIRECTION } from '../core/utils.js';\nimport ActionDetails from '../core/action-details.js';\nimport createMask, { maskedClass } from '../masked/factory.js';\nimport MaskElement from './mask-element.js';\nimport HTMLInputMaskElement from './html-input-mask-element.js';\nimport HTMLContenteditableMaskElement from './html-contenteditable-mask-element.js';\nimport IMask from '../core/holder.js';\nimport './html-mask-element.js';\n\n/** Listens to element events and controls changes between element and {@link Masked} */\nclass InputMask {\n  /**\n    View element\n  */\n\n  /** Internal {@link Masked} model */\n\n  constructor(el, opts) {\n    this.el = el instanceof MaskElement ? el : el.isContentEditable && el.tagName !== 'INPUT' && el.tagName !== 'TEXTAREA' ? new HTMLContenteditableMaskElement(el) : new HTMLInputMaskElement(el);\n    this.masked = createMask(opts);\n    this._listeners = {};\n    this._value = '';\n    this._unmaskedValue = '';\n    this._saveSelection = this._saveSelection.bind(this);\n    this._onInput = this._onInput.bind(this);\n    this._onChange = this._onChange.bind(this);\n    this._onDrop = this._onDrop.bind(this);\n    this._onFocus = this._onFocus.bind(this);\n    this._onClick = this._onClick.bind(this);\n    this.alignCursor = this.alignCursor.bind(this);\n    this.alignCursorFriendly = this.alignCursorFriendly.bind(this);\n    this._bindEvents();\n\n    // refresh\n    this.updateValue();\n    this._onChange();\n  }\n  maskEquals(mask) {\n    return mask == null || this.masked?.maskEquals(mask);\n  }\n\n  /** Masked */\n  get mask() {\n    return this.masked.mask;\n  }\n  set mask(mask) {\n    if (this.maskEquals(mask)) return;\n    if (!(mask instanceof IMask.Masked) && this.masked.constructor === maskedClass(mask)) {\n      // TODO \"any\" no idea\n      this.masked.updateOptions({\n        mask\n      });\n      return;\n    }\n    const masked = mask instanceof IMask.Masked ? mask : createMask({\n      mask\n    });\n    masked.unmaskedValue = this.masked.unmaskedValue;\n    this.masked = masked;\n  }\n\n  /** Raw value */\n  get value() {\n    return this._value;\n  }\n  set value(str) {\n    if (this.value === str) return;\n    this.masked.value = str;\n    this.updateControl();\n    this.alignCursor();\n  }\n\n  /** Unmasked value */\n  get unmaskedValue() {\n    return this._unmaskedValue;\n  }\n  set unmaskedValue(str) {\n    if (this.unmaskedValue === str) return;\n    this.masked.unmaskedValue = str;\n    this.updateControl();\n    this.alignCursor();\n  }\n\n  /** Typed unmasked value */\n  get typedValue() {\n    return this.masked.typedValue;\n  }\n  set typedValue(val) {\n    if (this.masked.typedValueEquals(val)) return;\n    this.masked.typedValue = val;\n    this.updateControl();\n    this.alignCursor();\n  }\n\n  /** Display value */\n  get displayValue() {\n    return this.masked.displayValue;\n  }\n\n  /** Starts listening to element events */\n  _bindEvents() {\n    this.el.bindEvents({\n      selectionChange: this._saveSelection,\n      input: this._onInput,\n      drop: this._onDrop,\n      click: this._onClick,\n      focus: this._onFocus,\n      commit: this._onChange\n    });\n  }\n\n  /** Stops listening to element events */\n  _unbindEvents() {\n    if (this.el) this.el.unbindEvents();\n  }\n\n  /** Fires custom event */\n  _fireEvent(ev, e) {\n    const listeners = this._listeners[ev];\n    if (!listeners) return;\n    listeners.forEach(l => l(e));\n  }\n\n  /** Current selection start */\n  get selectionStart() {\n    return this._cursorChanging ? this._changingCursorPos : this.el.selectionStart;\n  }\n\n  /** Current cursor position */\n  get cursorPos() {\n    return this._cursorChanging ? this._changingCursorPos : this.el.selectionEnd;\n  }\n  set cursorPos(pos) {\n    if (!this.el || !this.el.isActive) return;\n    this.el.select(pos, pos);\n    this._saveSelection();\n  }\n\n  /** Stores current selection */\n  _saveSelection( /* ev */\n  ) {\n    if (this.displayValue !== this.el.value) {\n      console.warn('Element value was changed outside of mask. Syncronize mask using `mask.updateValue()` to work properly.'); // eslint-disable-line no-console\n    }\n    this._selection = {\n      start: this.selectionStart,\n      end: this.cursorPos\n    };\n  }\n\n  /** Syncronizes model value from view */\n  updateValue() {\n    this.masked.value = this.el.value;\n    this._value = this.masked.value;\n  }\n\n  /** Syncronizes view from model value, fires change events */\n  updateControl() {\n    const newUnmaskedValue = this.masked.unmaskedValue;\n    const newValue = this.masked.value;\n    const newDisplayValue = this.displayValue;\n    const isChanged = this.unmaskedValue !== newUnmaskedValue || this.value !== newValue;\n    this._unmaskedValue = newUnmaskedValue;\n    this._value = newValue;\n    if (this.el.value !== newDisplayValue) this.el.value = newDisplayValue;\n    if (isChanged) this._fireChangeEvents();\n  }\n\n  /** Updates options with deep equal check, recreates {@link Masked} model if mask type changes */\n  updateOptions(opts) {\n    const {\n      mask,\n      ...restOpts\n    } = opts;\n    const updateMask = !this.maskEquals(mask);\n    const updateOpts = this.masked.optionsIsChanged(restOpts);\n    if (updateMask) this.mask = mask;\n    if (updateOpts) this.masked.updateOptions(restOpts); // TODO\n\n    if (updateMask || updateOpts) this.updateControl();\n  }\n\n  /** Updates cursor */\n  updateCursor(cursorPos) {\n    if (cursorPos == null) return;\n    this.cursorPos = cursorPos;\n\n    // also queue change cursor for mobile browsers\n    this._delayUpdateCursor(cursorPos);\n  }\n\n  /** Delays cursor update to support mobile browsers */\n  _delayUpdateCursor(cursorPos) {\n    this._abortUpdateCursor();\n    this._changingCursorPos = cursorPos;\n    this._cursorChanging = setTimeout(() => {\n      if (!this.el) return; // if was destroyed\n      this.cursorPos = this._changingCursorPos;\n      this._abortUpdateCursor();\n    }, 10);\n  }\n\n  /** Fires custom events */\n  _fireChangeEvents() {\n    this._fireEvent('accept', this._inputEvent);\n    if (this.masked.isComplete) this._fireEvent('complete', this._inputEvent);\n  }\n\n  /** Aborts delayed cursor update */\n  _abortUpdateCursor() {\n    if (this._cursorChanging) {\n      clearTimeout(this._cursorChanging);\n      delete this._cursorChanging;\n    }\n  }\n\n  /** Aligns cursor to nearest available position */\n  alignCursor() {\n    this.cursorPos = this.masked.nearestInputPos(this.masked.nearestInputPos(this.cursorPos, DIRECTION.LEFT));\n  }\n\n  /** Aligns cursor only if selection is empty */\n  alignCursorFriendly() {\n    if (this.selectionStart !== this.cursorPos) return; // skip if range is selected\n    this.alignCursor();\n  }\n\n  /** Adds listener on custom event */\n  on(ev, handler) {\n    if (!this._listeners[ev]) this._listeners[ev] = [];\n    this._listeners[ev].push(handler);\n    return this;\n  }\n\n  /** Removes custom event listener */\n  off(ev, handler) {\n    if (!this._listeners[ev]) return this;\n    if (!handler) {\n      delete this._listeners[ev];\n      return this;\n    }\n    const hIndex = this._listeners[ev].indexOf(handler);\n    if (hIndex >= 0) this._listeners[ev].splice(hIndex, 1);\n    return this;\n  }\n\n  /** Handles view input event */\n  _onInput(e) {\n    this._inputEvent = e;\n    this._abortUpdateCursor();\n    const details = new ActionDetails({\n      // new state\n      value: this.el.value,\n      cursorPos: this.cursorPos,\n      // old state\n      oldValue: this.displayValue,\n      oldSelection: this._selection\n    });\n    const oldRawValue = this.masked.rawInputValue;\n    const offset = this.masked.splice(details.startChangePos, details.removed.length, details.inserted, details.removeDirection, {\n      input: true,\n      raw: true\n    }).offset;\n\n    // force align in remove direction only if no input chars were removed\n    // otherwise we still need to align with NONE (to get out from fixed symbols for instance)\n    const removeDirection = oldRawValue === this.masked.rawInputValue ? details.removeDirection : DIRECTION.NONE;\n    let cursorPos = this.masked.nearestInputPos(details.startChangePos + offset, removeDirection);\n    if (removeDirection !== DIRECTION.NONE) cursorPos = this.masked.nearestInputPos(cursorPos, DIRECTION.NONE);\n    this.updateControl();\n    this.updateCursor(cursorPos);\n    delete this._inputEvent;\n  }\n\n  /** Handles view change event and commits model value */\n  _onChange() {\n    if (this.displayValue !== this.el.value) {\n      this.updateValue();\n    }\n    this.masked.doCommit();\n    this.updateControl();\n    this._saveSelection();\n  }\n\n  /** Handles view drop event, prevents by default */\n  _onDrop(ev) {\n    ev.preventDefault();\n    ev.stopPropagation();\n  }\n\n  /** Restore last selection on focus */\n  _onFocus(ev) {\n    this.alignCursorFriendly();\n  }\n\n  /** Restore last selection on focus */\n  _onClick(ev) {\n    this.alignCursorFriendly();\n  }\n\n  /** Unbind view events and removes element reference */\n  destroy() {\n    this._unbindEvents();\n    this._listeners.length = 0;\n    delete this.el;\n  }\n}\nIMask.InputMask = InputMask;\n\nexport { InputMask as default };\n","import IMask from './holder.js';\n\n/** Provides details of changing model value */\nclass ChangeDetails {\n  /** Inserted symbols */\n\n  /** Can skip chars */\n\n  /** Additional offset if any changes occurred before tail */\n\n  /** Raw inserted is used by dynamic mask */\n\n  static normalize(prep) {\n    return Array.isArray(prep) ? prep : [prep, new ChangeDetails()];\n  }\n  constructor(details) {\n    Object.assign(this, {\n      inserted: '',\n      rawInserted: '',\n      skip: false,\n      tailShift: 0\n    }, details);\n  }\n\n  /** Aggregate changes */\n  aggregate(details) {\n    this.rawInserted += details.rawInserted;\n    this.skip = this.skip || details.skip;\n    this.inserted += details.inserted;\n    this.tailShift += details.tailShift;\n    return this;\n  }\n\n  /** Total offset considering all changes */\n  get offset() {\n    return this.tailShift + this.inserted.length;\n  }\n}\nIMask.ChangeDetails = ChangeDetails;\n\nexport { ChangeDetails as default };\n","/** Provides details of continuous extracted tail */\nclass ContinuousTailDetails {\n  /** Tail value as string */\n\n  /** Tail start position */\n\n  /** Start position */\n\n  constructor(value, from, stop) {\n    if (value === void 0) {\n      value = '';\n    }\n    if (from === void 0) {\n      from = 0;\n    }\n    this.value = value;\n    this.from = from;\n    this.stop = stop;\n  }\n  toString() {\n    return this.value;\n  }\n  extend(tail) {\n    this.value += String(tail);\n  }\n  appendTo(masked) {\n    return masked.append(this.toString(), {\n      tail: true\n    }).aggregate(masked._appendPlaceholder());\n  }\n  get state() {\n    return {\n      value: this.value,\n      from: this.from,\n      stop: this.stop\n    };\n  }\n  set state(state) {\n    Object.assign(this, state);\n  }\n  unshift(beforePos) {\n    if (!this.value.length || beforePos != null && this.from >= beforePos) return '';\n    const shiftChar = this.value[0];\n    this.value = this.value.slice(1);\n    return shiftChar;\n  }\n  shift() {\n    if (!this.value.length) return '';\n    const shiftChar = this.value[this.value.length - 1];\n    this.value = this.value.slice(0, -1);\n    return shiftChar;\n  }\n}\n\nexport { ContinuousTailDetails as default };\n","import ChangeDetails from '../core/change-details.js';\nimport ContinuousTailDetails from '../core/continuous-tail-details.js';\nimport { isString, DIRECTION, objectIncludes, forceDirection } from '../core/utils.js';\nimport IMask from '../core/holder.js';\n\n/** Append flags */\n\n/** Extract flags */\n\n// see https://github.com/microsoft/TypeScript/issues/6223\n\n/** Provides common masking stuff */\nclass Masked {\n  static DEFAULTS = {\n    skipInvalid: true\n  };\n  static EMPTY_VALUES = [undefined, null, ''];\n\n  /** */\n\n  /** */\n\n  /** Transforms value before mask processing */\n\n  /** Transforms each char before mask processing */\n\n  /** Validates if value is acceptable */\n\n  /** Does additional processing at the end of editing */\n\n  /** Format typed value to string */\n\n  /** Parse string to get typed value */\n\n  /** Enable characters overwriting */\n\n  /** */\n\n  /** */\n\n  /** */\n\n  constructor(opts) {\n    this._value = '';\n    this._update({\n      ...Masked.DEFAULTS,\n      ...opts\n    });\n    this._initialized = true;\n  }\n\n  /** Sets and applies new options */\n  updateOptions(opts) {\n    if (!this.optionsIsChanged(opts)) return;\n    this.withValueRefresh(this._update.bind(this, opts));\n  }\n\n  /** Sets new options */\n  _update(opts) {\n    Object.assign(this, opts);\n  }\n\n  /** Mask state */\n  get state() {\n    return {\n      _value: this.value,\n      _rawInputValue: this.rawInputValue\n    };\n  }\n  set state(state) {\n    this._value = state._value;\n  }\n\n  /** Resets value */\n  reset() {\n    this._value = '';\n  }\n  get value() {\n    return this._value;\n  }\n  set value(value) {\n    this.resolve(value, {\n      input: true\n    });\n  }\n\n  /** Resolve new value */\n  resolve(value, flags) {\n    if (flags === void 0) {\n      flags = {\n        input: true\n      };\n    }\n    this.reset();\n    this.append(value, flags, '');\n    this.doCommit();\n  }\n  get unmaskedValue() {\n    return this.value;\n  }\n  set unmaskedValue(value) {\n    this.resolve(value, {});\n  }\n  get typedValue() {\n    return this.parse ? this.parse(this.value, this) : this.unmaskedValue;\n  }\n  set typedValue(value) {\n    if (this.format) {\n      this.value = this.format(value, this);\n    } else {\n      this.unmaskedValue = String(value);\n    }\n  }\n\n  /** Value that includes raw user input */\n  get rawInputValue() {\n    return this.extractInput(0, this.displayValue.length, {\n      raw: true\n    });\n  }\n  set rawInputValue(value) {\n    this.resolve(value, {\n      raw: true\n    });\n  }\n  get displayValue() {\n    return this.value;\n  }\n  get isComplete() {\n    return true;\n  }\n  get isFilled() {\n    return this.isComplete;\n  }\n\n  /** Finds nearest input position in direction */\n  nearestInputPos(cursorPos, direction) {\n    return cursorPos;\n  }\n  totalInputPositions(fromPos, toPos) {\n    if (fromPos === void 0) {\n      fromPos = 0;\n    }\n    if (toPos === void 0) {\n      toPos = this.displayValue.length;\n    }\n    return Math.min(this.displayValue.length, toPos - fromPos);\n  }\n\n  /** Extracts value in range considering flags */\n  extractInput(fromPos, toPos, flags) {\n    if (fromPos === void 0) {\n      fromPos = 0;\n    }\n    if (toPos === void 0) {\n      toPos = this.displayValue.length;\n    }\n    return this.displayValue.slice(fromPos, toPos);\n  }\n\n  /** Extracts tail in range */\n  extractTail(fromPos, toPos) {\n    if (fromPos === void 0) {\n      fromPos = 0;\n    }\n    if (toPos === void 0) {\n      toPos = this.displayValue.length;\n    }\n    return new ContinuousTailDetails(this.extractInput(fromPos, toPos), fromPos);\n  }\n\n  /** Appends tail */\n  appendTail(tail) {\n    if (isString(tail)) tail = new ContinuousTailDetails(String(tail));\n    return tail.appendTo(this);\n  }\n\n  /** Appends char */\n  _appendCharRaw(ch, flags) {\n    if (!ch) return new ChangeDetails();\n    this._value += ch;\n    return new ChangeDetails({\n      inserted: ch,\n      rawInserted: ch\n    });\n  }\n\n  /** Appends char */\n  _appendChar(ch, flags, checkTail) {\n    if (flags === void 0) {\n      flags = {};\n    }\n    const consistentState = this.state;\n    let details;\n    [ch, details] = this.doPrepareChar(ch, flags);\n    if (ch) details = details.aggregate(this._appendCharRaw(ch, flags));\n    if (details.inserted) {\n      let consistentTail;\n      let appended = this.doValidate(flags) !== false;\n      if (appended && checkTail != null) {\n        // validation ok, check tail\n        const beforeTailState = this.state;\n        if (this.overwrite === true) {\n          consistentTail = checkTail.state;\n          checkTail.unshift(this.displayValue.length - details.tailShift);\n        }\n        let tailDetails = this.appendTail(checkTail);\n        appended = tailDetails.rawInserted === checkTail.toString();\n\n        // not ok, try shift\n        if (!(appended && tailDetails.inserted) && this.overwrite === 'shift') {\n          this.state = beforeTailState;\n          consistentTail = checkTail.state;\n          checkTail.shift();\n          tailDetails = this.appendTail(checkTail);\n          appended = tailDetails.rawInserted === checkTail.toString();\n        }\n\n        // if ok, rollback state after tail\n        if (appended && tailDetails.inserted) this.state = beforeTailState;\n      }\n\n      // revert all if something went wrong\n      if (!appended) {\n        details = new ChangeDetails();\n        this.state = consistentState;\n        if (checkTail && consistentTail) checkTail.state = consistentTail;\n      }\n    }\n    return details;\n  }\n\n  /** Appends optional placeholder at the end */\n  _appendPlaceholder() {\n    return new ChangeDetails();\n  }\n\n  /** Appends optional eager placeholder at the end */\n  _appendEager() {\n    return new ChangeDetails();\n  }\n\n  /** Appends symbols considering flags */\n  append(str, flags, tail) {\n    if (!isString(str)) throw new Error('value should be string');\n    const checkTail = isString(tail) ? new ContinuousTailDetails(String(tail)) : tail;\n    if (flags?.tail) flags._beforeTailState = this.state;\n    let details;\n    [str, details] = this.doPrepare(str, flags);\n    for (let ci = 0; ci < str.length; ++ci) {\n      const d = this._appendChar(str[ci], flags, checkTail);\n      if (!d.rawInserted && !this.doSkipInvalid(str[ci], flags, checkTail)) break;\n      details.aggregate(d);\n    }\n    if ((this.eager === true || this.eager === 'append') && flags?.input && str) {\n      details.aggregate(this._appendEager());\n    }\n\n    // append tail but aggregate only tailShift\n    if (checkTail != null) {\n      details.tailShift += this.appendTail(checkTail).tailShift;\n      // TODO it's a good idea to clear state after appending ends\n      // but it causes bugs when one append calls another (when dynamic dispatch set rawInputValue)\n      // this._resetBeforeTailState();\n    }\n    return details;\n  }\n  remove(fromPos, toPos) {\n    if (fromPos === void 0) {\n      fromPos = 0;\n    }\n    if (toPos === void 0) {\n      toPos = this.displayValue.length;\n    }\n    this._value = this.displayValue.slice(0, fromPos) + this.displayValue.slice(toPos);\n    return new ChangeDetails();\n  }\n\n  /** Calls function and reapplies current value */\n  withValueRefresh(fn) {\n    if (this._refreshing || !this._initialized) return fn();\n    this._refreshing = true;\n    const rawInput = this.rawInputValue;\n    const value = this.value;\n    const ret = fn();\n    this.rawInputValue = rawInput;\n    // append lost trailing chars at the end\n    if (this.value && this.value !== value && value.indexOf(this.value) === 0) {\n      this.append(value.slice(this.displayValue.length), {}, '');\n    }\n    delete this._refreshing;\n    return ret;\n  }\n  runIsolated(fn) {\n    if (this._isolated || !this._initialized) return fn(this);\n    this._isolated = true;\n    const state = this.state;\n    const ret = fn(this);\n    this.state = state;\n    delete this._isolated;\n    return ret;\n  }\n  doSkipInvalid(ch, flags, checkTail) {\n    return Boolean(this.skipInvalid);\n  }\n\n  /** Prepares string before mask processing */\n  doPrepare(str, flags) {\n    if (flags === void 0) {\n      flags = {};\n    }\n    return ChangeDetails.normalize(this.prepare ? this.prepare(str, this, flags) : str);\n  }\n\n  /** Prepares each char before mask processing */\n  doPrepareChar(str, flags) {\n    if (flags === void 0) {\n      flags = {};\n    }\n    return ChangeDetails.normalize(this.prepareChar ? this.prepareChar(str, this, flags) : str);\n  }\n\n  /** Validates if value is acceptable */\n  doValidate(flags) {\n    return (!this.validate || this.validate(this.value, this, flags)) && (!this.parent || this.parent.doValidate(flags));\n  }\n\n  /** Does additional processing at the end of editing */\n  doCommit() {\n    if (this.commit) this.commit(this.value, this);\n  }\n  splice(start, deleteCount, inserted, removeDirection, flags) {\n    if (removeDirection === void 0) {\n      removeDirection = DIRECTION.NONE;\n    }\n    if (flags === void 0) {\n      flags = {\n        input: true\n      };\n    }\n    const tailPos = start + deleteCount;\n    const tail = this.extractTail(tailPos);\n    const eagerRemove = this.eager === true || this.eager === 'remove';\n    let oldRawValue;\n    if (eagerRemove) {\n      removeDirection = forceDirection(removeDirection);\n      oldRawValue = this.extractInput(0, tailPos, {\n        raw: true\n      });\n    }\n    let startChangePos = start;\n    const details = new ChangeDetails();\n\n    // if it is just deletion without insertion\n    if (removeDirection !== DIRECTION.NONE) {\n      startChangePos = this.nearestInputPos(start, deleteCount > 1 && start !== 0 && !eagerRemove ? DIRECTION.NONE : removeDirection);\n\n      // adjust tailShift if start was aligned\n      details.tailShift = startChangePos - start;\n    }\n    details.aggregate(this.remove(startChangePos));\n    if (eagerRemove && removeDirection !== DIRECTION.NONE && oldRawValue === this.rawInputValue) {\n      if (removeDirection === DIRECTION.FORCE_LEFT) {\n        let valLength;\n        while (oldRawValue === this.rawInputValue && (valLength = this.displayValue.length)) {\n          details.aggregate(new ChangeDetails({\n            tailShift: -1\n          })).aggregate(this.remove(valLength - 1));\n        }\n      } else if (removeDirection === DIRECTION.FORCE_RIGHT) {\n        tail.unshift();\n      }\n    }\n    return details.aggregate(this.append(inserted, flags, tail));\n  }\n  maskEquals(mask) {\n    return this.mask === mask;\n  }\n  optionsIsChanged(opts) {\n    return !objectIncludes(this, opts);\n  }\n  typedValueEquals(value) {\n    const tval = this.typedValue;\n    return value === tval || Masked.EMPTY_VALUES.includes(value) && Masked.EMPTY_VALUES.includes(tval) || (this.format ? this.format(value, this) === this.format(this.typedValue, this) : false);\n  }\n}\nIMask.Masked = Masked;\n\nexport { Masked as default };\n","import ChangeDetails from '../../core/change-details.js';\nimport { isString } from '../../core/utils.js';\nimport ContinuousTailDetails from '../../core/continuous-tail-details.js';\nimport IMask from '../../core/holder.js';\n\nclass ChunksTailDetails {\n  /** */\n\n  constructor(chunks, from) {\n    if (chunks === void 0) {\n      chunks = [];\n    }\n    if (from === void 0) {\n      from = 0;\n    }\n    this.chunks = chunks;\n    this.from = from;\n  }\n  toString() {\n    return this.chunks.map(String).join('');\n  }\n  extend(tailChunk) {\n    if (!String(tailChunk)) return;\n    tailChunk = isString(tailChunk) ? new ContinuousTailDetails(String(tailChunk)) : tailChunk;\n    const lastChunk = this.chunks[this.chunks.length - 1];\n    const extendLast = lastChunk && (\n    // if stops are same or tail has no stop\n    lastChunk.stop === tailChunk.stop || tailChunk.stop == null) &&\n    // if tail chunk goes just after last chunk\n    tailChunk.from === lastChunk.from + lastChunk.toString().length;\n    if (tailChunk instanceof ContinuousTailDetails) {\n      // check the ability to extend previous chunk\n      if (extendLast) {\n        // extend previous chunk\n        lastChunk.extend(tailChunk.toString());\n      } else {\n        // append new chunk\n        this.chunks.push(tailChunk);\n      }\n    } else if (tailChunk instanceof ChunksTailDetails) {\n      if (tailChunk.stop == null) {\n        // unwrap floating chunks to parent, keeping `from` pos\n        let firstTailChunk;\n        while (tailChunk.chunks.length && tailChunk.chunks[0].stop == null) {\n          firstTailChunk = tailChunk.chunks.shift(); // not possible to be `undefined` because length was checked above\n          firstTailChunk.from += tailChunk.from;\n          this.extend(firstTailChunk);\n        }\n      }\n\n      // if tail chunk still has value\n      if (tailChunk.toString()) {\n        // if chunks contains stops, then popup stop to container\n        tailChunk.stop = tailChunk.blockIndex;\n        this.chunks.push(tailChunk);\n      }\n    }\n  }\n  appendTo(masked) {\n    if (!(masked instanceof IMask.MaskedPattern)) {\n      const tail = new ContinuousTailDetails(this.toString());\n      return tail.appendTo(masked);\n    }\n    const details = new ChangeDetails();\n    for (let ci = 0; ci < this.chunks.length && !details.skip; ++ci) {\n      const chunk = this.chunks[ci];\n      const lastBlockIter = masked._mapPosToBlock(masked.displayValue.length);\n      const stop = chunk.stop;\n      let chunkBlock;\n      if (stop != null && (\n      // if block not found or stop is behind lastBlock\n      !lastBlockIter || lastBlockIter.index <= stop)) {\n        if (chunk instanceof ChunksTailDetails ||\n        // for continuous block also check if stop is exist\n        masked._stops.indexOf(stop) >= 0) {\n          const phDetails = masked._appendPlaceholder(stop);\n          details.aggregate(phDetails);\n        }\n        chunkBlock = chunk instanceof ChunksTailDetails && masked._blocks[stop];\n      }\n      if (chunkBlock) {\n        const tailDetails = chunkBlock.appendTail(chunk);\n        tailDetails.skip = false; // always ignore skip, it will be set on last\n        details.aggregate(tailDetails);\n        masked._value += tailDetails.inserted;\n\n        // get not inserted chars\n        const remainChars = chunk.toString().slice(tailDetails.rawInserted.length);\n        if (remainChars) details.aggregate(masked.append(remainChars, {\n          tail: true\n        }));\n      } else {\n        details.aggregate(masked.append(chunk.toString(), {\n          tail: true\n        }));\n      }\n    }\n    return details;\n  }\n  get state() {\n    return {\n      chunks: this.chunks.map(c => c.state),\n      from: this.from,\n      stop: this.stop,\n      blockIndex: this.blockIndex\n    };\n  }\n  set state(state) {\n    const {\n      chunks,\n      ...props\n    } = state;\n    Object.assign(this, props);\n    this.chunks = chunks.map(cstate => {\n      const chunk = \"chunks\" in cstate ? new ChunksTailDetails() : new ContinuousTailDetails();\n      chunk.state = cstate;\n      return chunk;\n    });\n  }\n  unshift(beforePos) {\n    if (!this.chunks.length || beforePos != null && this.from >= beforePos) return '';\n    const chunkShiftPos = beforePos != null ? beforePos - this.from : beforePos;\n    let ci = 0;\n    while (ci < this.chunks.length) {\n      const chunk = this.chunks[ci];\n      const shiftChar = chunk.unshift(chunkShiftPos);\n      if (chunk.toString()) {\n        // chunk still contains value\n        // but not shifted - means no more available chars to shift\n        if (!shiftChar) break;\n        ++ci;\n      } else {\n        // clean if chunk has no value\n        this.chunks.splice(ci, 1);\n      }\n      if (shiftChar) return shiftChar;\n    }\n    return '';\n  }\n  shift() {\n    if (!this.chunks.length) return '';\n    let ci = this.chunks.length - 1;\n    while (0 <= ci) {\n      const chunk = this.chunks[ci];\n      const shiftChar = chunk.shift();\n      if (chunk.toString()) {\n        // chunk still contains value\n        // but not shifted - means no more available chars to shift\n        if (!shiftChar) break;\n        --ci;\n      } else {\n        // clean if chunk has no value\n        this.chunks.splice(ci, 1);\n      }\n      if (shiftChar) return shiftChar;\n    }\n    return '';\n  }\n}\n\nexport { ChunksTailDetails as default };\n","import { DIRECTION } from '../../core/utils.js';\n\nclass PatternCursor {\n  constructor(masked, pos) {\n    this.masked = masked;\n    this._log = [];\n    const {\n      offset,\n      index\n    } = masked._mapPosToBlock(pos) || (pos < 0 ?\n    // first\n    {\n      index: 0,\n      offset: 0\n    } :\n    // last\n    {\n      index: this.masked._blocks.length,\n      offset: 0\n    });\n    this.offset = offset;\n    this.index = index;\n    this.ok = false;\n  }\n  get block() {\n    return this.masked._blocks[this.index];\n  }\n  get pos() {\n    return this.masked._blockStartPos(this.index) + this.offset;\n  }\n  get state() {\n    return {\n      index: this.index,\n      offset: this.offset,\n      ok: this.ok\n    };\n  }\n  set state(s) {\n    Object.assign(this, s);\n  }\n  pushState() {\n    this._log.push(this.state);\n  }\n  popState() {\n    const s = this._log.pop();\n    if (s) this.state = s;\n    return s;\n  }\n  bindBlock() {\n    if (this.block) return;\n    if (this.index < 0) {\n      this.index = 0;\n      this.offset = 0;\n    }\n    if (this.index >= this.masked._blocks.length) {\n      this.index = this.masked._blocks.length - 1;\n      this.offset = this.block.displayValue.length; // TODO this is stupid type error, `block` depends on index that was changed above\n    }\n  }\n  _pushLeft(fn) {\n    this.pushState();\n    for (this.bindBlock(); 0 <= this.index; --this.index, this.offset = this.block?.displayValue.length || 0) {\n      if (fn()) return this.ok = true;\n    }\n    return this.ok = false;\n  }\n  _pushRight(fn) {\n    this.pushState();\n    for (this.bindBlock(); this.index < this.masked._blocks.length; ++this.index, this.offset = 0) {\n      if (fn()) return this.ok = true;\n    }\n    return this.ok = false;\n  }\n  pushLeftBeforeFilled() {\n    return this._pushLeft(() => {\n      if (this.block.isFixed || !this.block.value) return;\n      this.offset = this.block.nearestInputPos(this.offset, DIRECTION.FORCE_LEFT);\n      if (this.offset !== 0) return true;\n    });\n  }\n  pushLeftBeforeInput() {\n    // cases:\n    // filled input: 00|\n    // optional empty input: 00[]|\n    // nested block: XX<[]>|\n    return this._pushLeft(() => {\n      if (this.block.isFixed) return;\n      this.offset = this.block.nearestInputPos(this.offset, DIRECTION.LEFT);\n      return true;\n    });\n  }\n  pushLeftBeforeRequired() {\n    return this._pushLeft(() => {\n      if (this.block.isFixed || this.block.isOptional && !this.block.value) return;\n      this.offset = this.block.nearestInputPos(this.offset, DIRECTION.LEFT);\n      return true;\n    });\n  }\n  pushRightBeforeFilled() {\n    return this._pushRight(() => {\n      if (this.block.isFixed || !this.block.value) return;\n      this.offset = this.block.nearestInputPos(this.offset, DIRECTION.FORCE_RIGHT);\n      if (this.offset !== this.block.value.length) return true;\n    });\n  }\n  pushRightBeforeInput() {\n    return this._pushRight(() => {\n      if (this.block.isFixed) return;\n\n      // const o = this.offset;\n      this.offset = this.block.nearestInputPos(this.offset, DIRECTION.NONE);\n      // HACK cases like (STILL DOES NOT WORK FOR NESTED)\n      // aa|X\n      // aa<X|[]>X_    - this will not work\n      // if (o && o === this.offset && this.block instanceof PatternInputDefinition) continue;\n      return true;\n    });\n  }\n  pushRightBeforeRequired() {\n    return this._pushRight(() => {\n      if (this.block.isFixed || this.block.isOptional && !this.block.value) return;\n\n      // TODO check |[*]XX_\n      this.offset = this.block.nearestInputPos(this.offset, DIRECTION.NONE);\n      return true;\n    });\n  }\n}\n\nexport { PatternCursor as default };\n","import ChangeDetails from '../../core/change-details.js';\nimport { DIRECTION, isString } from '../../core/utils.js';\nimport ContinuousTailDetails from '../../core/continuous-tail-details.js';\nimport '../../core/holder.js';\n\nclass PatternFixedDefinition {\n  /** */\n\n  /** */\n\n  /** */\n\n  /** */\n\n  /** */\n\n  /** */\n\n  constructor(opts) {\n    Object.assign(this, opts);\n    this._value = '';\n    this.isFixed = true;\n  }\n  get value() {\n    return this._value;\n  }\n  get unmaskedValue() {\n    return this.isUnmasking ? this.value : '';\n  }\n  get rawInputValue() {\n    return this._isRawInput ? this.value : '';\n  }\n  get displayValue() {\n    return this.value;\n  }\n  reset() {\n    this._isRawInput = false;\n    this._value = '';\n  }\n  remove(fromPos, toPos) {\n    if (fromPos === void 0) {\n      fromPos = 0;\n    }\n    if (toPos === void 0) {\n      toPos = this._value.length;\n    }\n    this._value = this._value.slice(0, fromPos) + this._value.slice(toPos);\n    if (!this._value) this._isRawInput = false;\n    return new ChangeDetails();\n  }\n  nearestInputPos(cursorPos, direction) {\n    if (direction === void 0) {\n      direction = DIRECTION.NONE;\n    }\n    const minPos = 0;\n    const maxPos = this._value.length;\n    switch (direction) {\n      case DIRECTION.LEFT:\n      case DIRECTION.FORCE_LEFT:\n        return minPos;\n      case DIRECTION.NONE:\n      case DIRECTION.RIGHT:\n      case DIRECTION.FORCE_RIGHT:\n      default:\n        return maxPos;\n    }\n  }\n  totalInputPositions(fromPos, toPos) {\n    if (fromPos === void 0) {\n      fromPos = 0;\n    }\n    if (toPos === void 0) {\n      toPos = this._value.length;\n    }\n    return this._isRawInput ? toPos - fromPos : 0;\n  }\n  extractInput(fromPos, toPos, flags) {\n    if (fromPos === void 0) {\n      fromPos = 0;\n    }\n    if (toPos === void 0) {\n      toPos = this._value.length;\n    }\n    if (flags === void 0) {\n      flags = {};\n    }\n    return flags.raw && this._isRawInput && this._value.slice(fromPos, toPos) || '';\n  }\n  get isComplete() {\n    return true;\n  }\n  get isFilled() {\n    return Boolean(this._value);\n  }\n  _appendChar(ch, flags) {\n    if (flags === void 0) {\n      flags = {};\n    }\n    const details = new ChangeDetails();\n    if (this.isFilled) return details;\n    const appendEager = this.eager === true || this.eager === 'append';\n    const appended = this.char === ch;\n    const isResolved = appended && (this.isUnmasking || flags.input || flags.raw) && (!flags.raw || !appendEager) && !flags.tail;\n    if (isResolved) details.rawInserted = this.char;\n    this._value = details.inserted = this.char;\n    this._isRawInput = isResolved && (flags.raw || flags.input);\n    return details;\n  }\n  _appendEager() {\n    return this._appendChar(this.char, {\n      tail: true\n    });\n  }\n  _appendPlaceholder() {\n    const details = new ChangeDetails();\n    if (this.isFilled) return details;\n    this._value = details.inserted = this.char;\n    return details;\n  }\n  extractTail() {\n    return new ContinuousTailDetails('');\n  }\n  appendTail(tail) {\n    if (isString(tail)) tail = new ContinuousTailDetails(String(tail));\n    return tail.appendTo(this);\n  }\n  append(str, flags, tail) {\n    const details = this._appendChar(str[0], flags);\n    if (tail != null) {\n      details.tailShift += this.appendTail(tail).tailShift;\n    }\n    return details;\n  }\n  doCommit() {}\n  get state() {\n    return {\n      _value: this._value,\n      _rawInputValue: this.rawInputValue\n    };\n  }\n  set state(state) {\n    this._value = state._value;\n    this._isRawInput = Boolean(state._rawInputValue);\n  }\n}\n\nexport { PatternFixedDefinition as default };\n","import createMask from '../factory.js';\nimport ChangeDetails from '../../core/change-details.js';\nimport { DIRECTION } from '../../core/utils.js';\nimport '../../core/holder.js';\n\nclass PatternInputDefinition {\n  static DEFAULT_DEFINITIONS = {\n    '0': /\\d/,\n    'a': /[\\u0041-\\u005A\\u0061-\\u007A\\u00AA\\u00B5\\u00BA\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0\\u08A2-\\u08AC\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097F\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C33\\u0C35-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191C\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2183\\u2184\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005\\u3006\\u3031-\\u3035\\u303B\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA697\\uA6A0-\\uA6E5\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA793\\uA7A0-\\uA7AA\\uA7F8-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA80-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]/,\n    // http://stackoverflow.com/a/22075070\n    '*': /./\n  };\n\n  /** */\n\n  /** */\n\n  /** */\n\n  /** */\n\n  /** */\n\n  /** */\n\n  /** */\n\n  /** */\n\n  constructor(opts) {\n    const {\n      parent,\n      isOptional,\n      placeholderChar,\n      displayChar,\n      lazy,\n      eager,\n      ...maskOpts\n    } = opts;\n    this.masked = createMask(maskOpts);\n    Object.assign(this, {\n      parent,\n      isOptional,\n      placeholderChar,\n      displayChar,\n      lazy,\n      eager\n    });\n  }\n  reset() {\n    this.isFilled = false;\n    this.masked.reset();\n  }\n  remove(fromPos, toPos) {\n    if (fromPos === void 0) {\n      fromPos = 0;\n    }\n    if (toPos === void 0) {\n      toPos = this.value.length;\n    }\n    if (fromPos === 0 && toPos >= 1) {\n      this.isFilled = false;\n      return this.masked.remove(fromPos, toPos);\n    }\n    return new ChangeDetails();\n  }\n  get value() {\n    return this.masked.value || (this.isFilled && !this.isOptional ? this.placeholderChar : '');\n  }\n  get unmaskedValue() {\n    return this.masked.unmaskedValue;\n  }\n  get rawInputValue() {\n    return this.masked.rawInputValue;\n  }\n  get displayValue() {\n    return this.masked.value && this.displayChar || this.value;\n  }\n  get isComplete() {\n    return Boolean(this.masked.value) || this.isOptional;\n  }\n  _appendChar(ch, flags) {\n    if (flags === void 0) {\n      flags = {};\n    }\n    if (this.isFilled) return new ChangeDetails();\n    const state = this.masked.state;\n    // simulate input\n    const details = this.masked._appendChar(ch, this.currentMaskFlags(flags));\n    if (details.inserted && this.doValidate(flags) === false) {\n      details.inserted = details.rawInserted = '';\n      this.masked.state = state;\n    }\n    if (!details.inserted && !this.isOptional && !this.lazy && !flags.input) {\n      details.inserted = this.placeholderChar;\n    }\n    details.skip = !details.inserted && !this.isOptional;\n    this.isFilled = Boolean(details.inserted);\n    return details;\n  }\n  append(str, flags, tail) {\n    // TODO probably should be done via _appendChar\n    return this.masked.append(str, this.currentMaskFlags(flags), tail);\n  }\n  _appendPlaceholder() {\n    const details = new ChangeDetails();\n    if (this.isFilled || this.isOptional) return details;\n    this.isFilled = true;\n    details.inserted = this.placeholderChar;\n    return details;\n  }\n  _appendEager() {\n    return new ChangeDetails();\n  }\n  extractTail(fromPos, toPos) {\n    return this.masked.extractTail(fromPos, toPos);\n  }\n  appendTail(tail) {\n    return this.masked.appendTail(tail);\n  }\n  extractInput(fromPos, toPos, flags) {\n    if (fromPos === void 0) {\n      fromPos = 0;\n    }\n    if (toPos === void 0) {\n      toPos = this.value.length;\n    }\n    return this.masked.extractInput(fromPos, toPos, flags);\n  }\n  nearestInputPos(cursorPos, direction) {\n    if (direction === void 0) {\n      direction = DIRECTION.NONE;\n    }\n    const minPos = 0;\n    const maxPos = this.value.length;\n    const boundPos = Math.min(Math.max(cursorPos, minPos), maxPos);\n    switch (direction) {\n      case DIRECTION.LEFT:\n      case DIRECTION.FORCE_LEFT:\n        return this.isComplete ? boundPos : minPos;\n      case DIRECTION.RIGHT:\n      case DIRECTION.FORCE_RIGHT:\n        return this.isComplete ? boundPos : maxPos;\n      case DIRECTION.NONE:\n      default:\n        return boundPos;\n    }\n  }\n  totalInputPositions(fromPos, toPos) {\n    if (fromPos === void 0) {\n      fromPos = 0;\n    }\n    if (toPos === void 0) {\n      toPos = this.value.length;\n    }\n    return this.value.slice(fromPos, toPos).length;\n  }\n  doValidate(flags) {\n    return this.masked.doValidate(this.currentMaskFlags(flags)) && (!this.parent || this.parent.doValidate(this.currentMaskFlags(flags)));\n  }\n  doCommit() {\n    this.masked.doCommit();\n  }\n  get state() {\n    return {\n      _value: this.value,\n      _rawInputValue: this.rawInputValue,\n      masked: this.masked.state,\n      isFilled: this.isFilled\n    };\n  }\n  set state(state) {\n    this.masked.state = state.masked;\n    this.isFilled = state.isFilled;\n  }\n  currentMaskFlags(flags) {\n    return {\n      ...flags,\n      _beforeTailState: flags?._beforeTailState?.masked || flags?._beforeTailState\n    };\n  }\n}\n\nexport { PatternInputDefinition as default };\n","import Masked from './base.js';\nimport IMask from '../core/holder.js';\nimport '../core/change-details.js';\nimport '../core/continuous-tail-details.js';\nimport '../core/utils.js';\n\n/** Masking by RegExp */\nclass MaskedRegExp extends Masked {\n  /** */\n\n  /** Enable characters overwriting */\n\n  /** */\n\n  /** */\n\n  updateOptions(opts) {\n    super.updateOptions(opts);\n  }\n  _update(opts) {\n    const mask = opts.mask;\n    if (mask) opts.validate = value => value.search(mask) >= 0;\n    super._update(opts);\n  }\n}\nIMask.MaskedRegExp = MaskedRegExp;\n\nexport { MaskedRegExp as default };\n","import ChangeDetails from '../core/change-details.js';\nimport IMask from '../core/holder.js';\nimport { DIRECTION } from '../core/utils.js';\nimport Masked from './base.js';\nimport createMask, { normalizeOpts } from './factory.js';\nimport ChunksTailDetails from './pattern/chunk-tail-details.js';\nimport PatternCursor from './pattern/cursor.js';\nimport PatternFixedDefinition from './pattern/fixed-definition.js';\nimport PatternInputDefinition from './pattern/input-definition.js';\nimport './regexp.js';\nimport '../core/continuous-tail-details.js';\n\n/** Pattern mask */\nclass MaskedPattern extends Masked {\n  static DEFAULTS = {\n    lazy: true,\n    placeholderChar: '_'\n  };\n  static STOP_CHAR = '`';\n  static ESCAPE_CHAR = '\\\\';\n  static InputDefinition = PatternInputDefinition;\n  static FixedDefinition = PatternFixedDefinition;\n\n  /** */\n\n  /** */\n\n  /** Single char for empty input */\n\n  /** Single char for filled input */\n\n  /** Show placeholder only when needed */\n\n  /** Enable characters overwriting */\n\n  /** */\n\n  /** */\n\n  constructor(opts) {\n    super({\n      ...MaskedPattern.DEFAULTS,\n      ...opts,\n      definitions: Object.assign({}, PatternInputDefinition.DEFAULT_DEFINITIONS, opts?.definitions)\n    });\n  }\n  updateOptions(opts) {\n    super.updateOptions(opts);\n  }\n  _update(opts) {\n    opts.definitions = Object.assign({}, this.definitions, opts.definitions);\n    super._update(opts);\n    this._rebuildMask();\n  }\n  _rebuildMask() {\n    const defs = this.definitions;\n    this._blocks = [];\n    this.exposeBlock = undefined;\n    this._stops = [];\n    this._maskedBlocks = {};\n    const pattern = this.mask;\n    if (!pattern || !defs) return;\n    let unmaskingBlock = false;\n    let optionalBlock = false;\n    for (let i = 0; i < pattern.length; ++i) {\n      if (this.blocks) {\n        const p = pattern.slice(i);\n        const bNames = Object.keys(this.blocks).filter(bName => p.indexOf(bName) === 0);\n        // order by key length\n        bNames.sort((a, b) => b.length - a.length);\n        // use block name with max length\n        const bName = bNames[0];\n        if (bName) {\n          const {\n            expose,\n            ...blockOpts\n          } = normalizeOpts(this.blocks[bName]);\n          const maskedBlock = createMask({\n            lazy: this.lazy,\n            eager: this.eager,\n            placeholderChar: this.placeholderChar,\n            displayChar: this.displayChar,\n            overwrite: this.overwrite,\n            ...blockOpts,\n            parent: this\n          });\n          if (maskedBlock) {\n            this._blocks.push(maskedBlock);\n            if (expose) this.exposeBlock = maskedBlock;\n\n            // store block index\n            if (!this._maskedBlocks[bName]) this._maskedBlocks[bName] = [];\n            this._maskedBlocks[bName].push(this._blocks.length - 1);\n          }\n          i += bName.length - 1;\n          continue;\n        }\n      }\n      let char = pattern[i];\n      let isInput = (char in defs);\n      if (char === MaskedPattern.STOP_CHAR) {\n        this._stops.push(this._blocks.length);\n        continue;\n      }\n      if (char === '{' || char === '}') {\n        unmaskingBlock = !unmaskingBlock;\n        continue;\n      }\n      if (char === '[' || char === ']') {\n        optionalBlock = !optionalBlock;\n        continue;\n      }\n      if (char === MaskedPattern.ESCAPE_CHAR) {\n        ++i;\n        char = pattern[i];\n        if (!char) break;\n        isInput = false;\n      }\n      const def = isInput ? new PatternInputDefinition({\n        isOptional: optionalBlock,\n        lazy: this.lazy,\n        eager: this.eager,\n        placeholderChar: this.placeholderChar,\n        displayChar: this.displayChar,\n        ...normalizeOpts(defs[char]),\n        parent: this\n      }) : new PatternFixedDefinition({\n        char,\n        eager: this.eager,\n        isUnmasking: unmaskingBlock\n      });\n      this._blocks.push(def);\n    }\n  }\n  get state() {\n    return {\n      ...super.state,\n      _blocks: this._blocks.map(b => b.state)\n    };\n  }\n  set state(state) {\n    const {\n      _blocks,\n      ...maskedState\n    } = state;\n    this._blocks.forEach((b, bi) => b.state = _blocks[bi]);\n    super.state = maskedState;\n  }\n  reset() {\n    super.reset();\n    this._blocks.forEach(b => b.reset());\n  }\n  get isComplete() {\n    return this.exposeBlock ? this.exposeBlock.isComplete : this._blocks.every(b => b.isComplete);\n  }\n  get isFilled() {\n    return this._blocks.every(b => b.isFilled);\n  }\n  get isFixed() {\n    return this._blocks.every(b => b.isFixed);\n  }\n  get isOptional() {\n    return this._blocks.every(b => b.isOptional);\n  }\n  doCommit() {\n    this._blocks.forEach(b => b.doCommit());\n    super.doCommit();\n  }\n  get unmaskedValue() {\n    return this.exposeBlock ? this.exposeBlock.unmaskedValue : this._blocks.reduce((str, b) => str += b.unmaskedValue, '');\n  }\n  set unmaskedValue(unmaskedValue) {\n    if (this.exposeBlock) {\n      const tail = this.extractTail(this._blockStartPos(this._blocks.indexOf(this.exposeBlock)) + this.exposeBlock.displayValue.length);\n      this.exposeBlock.unmaskedValue = unmaskedValue;\n      this.appendTail(tail);\n      this.doCommit();\n    } else super.unmaskedValue = unmaskedValue;\n  }\n  get value() {\n    return this.exposeBlock ? this.exposeBlock.value :\n    // TODO return _value when not in change?\n    this._blocks.reduce((str, b) => str += b.value, '');\n  }\n  set value(value) {\n    if (this.exposeBlock) {\n      const tail = this.extractTail(this._blockStartPos(this._blocks.indexOf(this.exposeBlock)) + this.exposeBlock.displayValue.length);\n      this.exposeBlock.value = value;\n      this.appendTail(tail);\n      this.doCommit();\n    } else super.value = value;\n  }\n  get typedValue() {\n    return this.exposeBlock ? this.exposeBlock.typedValue : super.typedValue;\n  }\n  set typedValue(value) {\n    if (this.exposeBlock) {\n      const tail = this.extractTail(this._blockStartPos(this._blocks.indexOf(this.exposeBlock)) + this.exposeBlock.displayValue.length);\n      this.exposeBlock.typedValue = value;\n      this.appendTail(tail);\n      this.doCommit();\n    } else super.typedValue = value;\n  }\n  get displayValue() {\n    return this._blocks.reduce((str, b) => str += b.displayValue, '');\n  }\n  appendTail(tail) {\n    return super.appendTail(tail).aggregate(this._appendPlaceholder());\n  }\n  _appendEager() {\n    const details = new ChangeDetails();\n    let startBlockIndex = this._mapPosToBlock(this.displayValue.length)?.index;\n    if (startBlockIndex == null) return details;\n\n    // TODO test if it works for nested pattern masks\n    if (this._blocks[startBlockIndex].isFilled) ++startBlockIndex;\n    for (let bi = startBlockIndex; bi < this._blocks.length; ++bi) {\n      const d = this._blocks[bi]._appendEager();\n      if (!d.inserted) break;\n      details.aggregate(d);\n    }\n    return details;\n  }\n  _appendCharRaw(ch, flags) {\n    if (flags === void 0) {\n      flags = {};\n    }\n    const blockIter = this._mapPosToBlock(this.displayValue.length);\n    const details = new ChangeDetails();\n    if (!blockIter) return details;\n    for (let bi = blockIter.index;; ++bi) {\n      const block = this._blocks[bi];\n      if (!block) break;\n      const blockDetails = block._appendChar(ch, {\n        ...flags,\n        _beforeTailState: flags._beforeTailState?._blocks?.[bi]\n      });\n      const skip = blockDetails.skip;\n      details.aggregate(blockDetails);\n      if (skip || blockDetails.rawInserted) break; // go next char\n    }\n    return details;\n  }\n  extractTail(fromPos, toPos) {\n    if (fromPos === void 0) {\n      fromPos = 0;\n    }\n    if (toPos === void 0) {\n      toPos = this.displayValue.length;\n    }\n    const chunkTail = new ChunksTailDetails();\n    if (fromPos === toPos) return chunkTail;\n    this._forEachBlocksInRange(fromPos, toPos, (b, bi, bFromPos, bToPos) => {\n      const blockChunk = b.extractTail(bFromPos, bToPos);\n      blockChunk.stop = this._findStopBefore(bi);\n      blockChunk.from = this._blockStartPos(bi);\n      if (blockChunk instanceof ChunksTailDetails) blockChunk.blockIndex = bi;\n      chunkTail.extend(blockChunk);\n    });\n    return chunkTail;\n  }\n  extractInput(fromPos, toPos, flags) {\n    if (fromPos === void 0) {\n      fromPos = 0;\n    }\n    if (toPos === void 0) {\n      toPos = this.displayValue.length;\n    }\n    if (flags === void 0) {\n      flags = {};\n    }\n    if (fromPos === toPos) return '';\n    let input = '';\n    this._forEachBlocksInRange(fromPos, toPos, (b, _, fromPos, toPos) => {\n      input += b.extractInput(fromPos, toPos, flags);\n    });\n    return input;\n  }\n  _findStopBefore(blockIndex) {\n    let stopBefore;\n    for (let si = 0; si < this._stops.length; ++si) {\n      const stop = this._stops[si];\n      if (stop <= blockIndex) stopBefore = stop;else break;\n    }\n    return stopBefore;\n  }\n\n  /** Appends placeholder depending on laziness */\n  _appendPlaceholder(toBlockIndex) {\n    const details = new ChangeDetails();\n    if (this.lazy && toBlockIndex == null) return details;\n    const startBlockIter = this._mapPosToBlock(this.displayValue.length);\n    if (!startBlockIter) return details;\n    const startBlockIndex = startBlockIter.index;\n    const endBlockIndex = toBlockIndex != null ? toBlockIndex : this._blocks.length;\n    this._blocks.slice(startBlockIndex, endBlockIndex).forEach(b => {\n      if (!b.lazy || toBlockIndex != null) {\n        const bDetails = b._appendPlaceholder(b._blocks?.length);\n        this._value += bDetails.inserted;\n        details.aggregate(bDetails);\n      }\n    });\n    return details;\n  }\n\n  /** Finds block in pos */\n  _mapPosToBlock(pos) {\n    let accVal = '';\n    for (let bi = 0; bi < this._blocks.length; ++bi) {\n      const block = this._blocks[bi];\n      const blockStartPos = accVal.length;\n      accVal += block.displayValue;\n      if (pos <= accVal.length) {\n        return {\n          index: bi,\n          offset: pos - blockStartPos\n        };\n      }\n    }\n  }\n  _blockStartPos(blockIndex) {\n    return this._blocks.slice(0, blockIndex).reduce((pos, b) => pos += b.displayValue.length, 0);\n  }\n  _forEachBlocksInRange(fromPos, toPos, fn) {\n    if (toPos === void 0) {\n      toPos = this.displayValue.length;\n    }\n    const fromBlockIter = this._mapPosToBlock(fromPos);\n    if (fromBlockIter) {\n      const toBlockIter = this._mapPosToBlock(toPos);\n      // process first block\n      const isSameBlock = toBlockIter && fromBlockIter.index === toBlockIter.index;\n      const fromBlockStartPos = fromBlockIter.offset;\n      const fromBlockEndPos = toBlockIter && isSameBlock ? toBlockIter.offset : this._blocks[fromBlockIter.index].displayValue.length;\n      fn(this._blocks[fromBlockIter.index], fromBlockIter.index, fromBlockStartPos, fromBlockEndPos);\n      if (toBlockIter && !isSameBlock) {\n        // process intermediate blocks\n        for (let bi = fromBlockIter.index + 1; bi < toBlockIter.index; ++bi) {\n          fn(this._blocks[bi], bi, 0, this._blocks[bi].displayValue.length);\n        }\n\n        // process last block\n        fn(this._blocks[toBlockIter.index], toBlockIter.index, 0, toBlockIter.offset);\n      }\n    }\n  }\n  remove(fromPos, toPos) {\n    if (fromPos === void 0) {\n      fromPos = 0;\n    }\n    if (toPos === void 0) {\n      toPos = this.displayValue.length;\n    }\n    const removeDetails = super.remove(fromPos, toPos);\n    this._forEachBlocksInRange(fromPos, toPos, (b, _, bFromPos, bToPos) => {\n      removeDetails.aggregate(b.remove(bFromPos, bToPos));\n    });\n    return removeDetails;\n  }\n  nearestInputPos(cursorPos, direction) {\n    if (direction === void 0) {\n      direction = DIRECTION.NONE;\n    }\n    if (!this._blocks.length) return 0;\n    const cursor = new PatternCursor(this, cursorPos);\n    if (direction === DIRECTION.NONE) {\n      // -------------------------------------------------\n      // NONE should only go out from fixed to the right!\n      // -------------------------------------------------\n      if (cursor.pushRightBeforeInput()) return cursor.pos;\n      cursor.popState();\n      if (cursor.pushLeftBeforeInput()) return cursor.pos;\n      return this.displayValue.length;\n    }\n\n    // FORCE is only about a|* otherwise is 0\n    if (direction === DIRECTION.LEFT || direction === DIRECTION.FORCE_LEFT) {\n      // try to break fast when *|a\n      if (direction === DIRECTION.LEFT) {\n        cursor.pushRightBeforeFilled();\n        if (cursor.ok && cursor.pos === cursorPos) return cursorPos;\n        cursor.popState();\n      }\n\n      // forward flow\n      cursor.pushLeftBeforeInput();\n      cursor.pushLeftBeforeRequired();\n      cursor.pushLeftBeforeFilled();\n\n      // backward flow\n      if (direction === DIRECTION.LEFT) {\n        cursor.pushRightBeforeInput();\n        cursor.pushRightBeforeRequired();\n        if (cursor.ok && cursor.pos <= cursorPos) return cursor.pos;\n        cursor.popState();\n        if (cursor.ok && cursor.pos <= cursorPos) return cursor.pos;\n        cursor.popState();\n      }\n      if (cursor.ok) return cursor.pos;\n      if (direction === DIRECTION.FORCE_LEFT) return 0;\n      cursor.popState();\n      if (cursor.ok) return cursor.pos;\n      cursor.popState();\n      if (cursor.ok) return cursor.pos;\n      return 0;\n    }\n    if (direction === DIRECTION.RIGHT || direction === DIRECTION.FORCE_RIGHT) {\n      // forward flow\n      cursor.pushRightBeforeInput();\n      cursor.pushRightBeforeRequired();\n      if (cursor.pushRightBeforeFilled()) return cursor.pos;\n      if (direction === DIRECTION.FORCE_RIGHT) return this.displayValue.length;\n\n      // backward flow\n      cursor.popState();\n      if (cursor.ok) return cursor.pos;\n      cursor.popState();\n      if (cursor.ok) return cursor.pos;\n      return this.nearestInputPos(cursorPos, DIRECTION.LEFT);\n    }\n    return cursorPos;\n  }\n  totalInputPositions(fromPos, toPos) {\n    if (fromPos === void 0) {\n      fromPos = 0;\n    }\n    if (toPos === void 0) {\n      toPos = this.displayValue.length;\n    }\n    let total = 0;\n    this._forEachBlocksInRange(fromPos, toPos, (b, _, bFromPos, bToPos) => {\n      total += b.totalInputPositions(bFromPos, bToPos);\n    });\n    return total;\n  }\n\n  /** Get block by name */\n  maskedBlock(name) {\n    return this.maskedBlocks(name)[0];\n  }\n\n  /** Get all blocks by name */\n  maskedBlocks(name) {\n    const indices = this._maskedBlocks[name];\n    if (!indices) return [];\n    return indices.map(gi => this._blocks[gi]);\n  }\n}\nIMask.MaskedPattern = MaskedPattern;\n\nexport { MaskedPattern as default };\n","import IMask from '../core/holder.js';\nimport MaskedPattern from './pattern.js';\nimport '../core/change-details.js';\nimport '../core/utils.js';\nimport './base.js';\nimport '../core/continuous-tail-details.js';\nimport './factory.js';\nimport './pattern/chunk-tail-details.js';\nimport './pattern/cursor.js';\nimport './pattern/fixed-definition.js';\nimport './pattern/input-definition.js';\nimport './regexp.js';\n\n/** Pattern which accepts ranges */\nclass MaskedRange extends MaskedPattern {\n  /**\n    Optionally sets max length of pattern.\n    Used when pattern length is longer then `to` param length. Pads zeros at start in this case.\n  */\n\n  /** Min bound */\n\n  /** Max bound */\n\n  /** */\n\n  get _matchFrom() {\n    return this.maxLength - String(this.from).length;\n  }\n  constructor(opts) {\n    super(opts); // mask will be created in _update\n  }\n  updateOptions(opts) {\n    super.updateOptions(opts);\n  }\n  _update(opts) {\n    const {\n      to = this.to || 0,\n      from = this.from || 0,\n      maxLength = this.maxLength || 0,\n      autofix = this.autofix,\n      ...patternOpts\n    } = opts;\n    this.to = to;\n    this.from = from;\n    this.maxLength = Math.max(String(to).length, maxLength);\n    this.autofix = autofix;\n    const fromStr = String(this.from).padStart(this.maxLength, '0');\n    const toStr = String(this.to).padStart(this.maxLength, '0');\n    let sameCharsCount = 0;\n    while (sameCharsCount < toStr.length && toStr[sameCharsCount] === fromStr[sameCharsCount]) ++sameCharsCount;\n    patternOpts.mask = toStr.slice(0, sameCharsCount).replace(/0/g, '\\\\0') + '0'.repeat(this.maxLength - sameCharsCount);\n    super._update(patternOpts);\n  }\n  get isComplete() {\n    return super.isComplete && Boolean(this.value);\n  }\n  boundaries(str) {\n    let minstr = '';\n    let maxstr = '';\n    const [, placeholder, num] = str.match(/^(\\D*)(\\d*)(\\D*)/) || [];\n    if (num) {\n      minstr = '0'.repeat(placeholder.length) + num;\n      maxstr = '9'.repeat(placeholder.length) + num;\n    }\n    minstr = minstr.padEnd(this.maxLength, '0');\n    maxstr = maxstr.padEnd(this.maxLength, '9');\n    return [minstr, maxstr];\n  }\n  doPrepareChar(ch, flags) {\n    if (flags === void 0) {\n      flags = {};\n    }\n    let details;\n    [ch, details] = super.doPrepareChar(ch.replace(/\\D/g, ''), flags);\n    if (!this.autofix || !ch) return [ch, details];\n    const fromStr = String(this.from).padStart(this.maxLength, '0');\n    const toStr = String(this.to).padStart(this.maxLength, '0');\n    const nextVal = this.value + ch;\n    if (nextVal.length > this.maxLength) return ['', details];\n    const [minstr, maxstr] = this.boundaries(nextVal);\n    if (Number(maxstr) < this.from) return [fromStr[nextVal.length - 1], details];\n    if (Number(minstr) > this.to) {\n      if (this.autofix === 'pad' && nextVal.length < this.maxLength) {\n        return ['', details.aggregate(this.append(fromStr[nextVal.length - 1] + ch, flags))];\n      }\n      return [toStr[nextVal.length - 1], details];\n    }\n    return [ch, details];\n  }\n  doValidate(flags) {\n    const str = this.value;\n    const firstNonZero = str.search(/[^0]/);\n    if (firstNonZero === -1 && str.length <= this._matchFrom) return true;\n    const [minstr, maxstr] = this.boundaries(str);\n    return this.from <= Number(maxstr) && Number(minstr) <= this.to && super.doValidate(flags);\n  }\n}\nIMask.MaskedRange = MaskedRange;\n\nexport { MaskedRange as default };\n","import MaskedPattern from './pattern.js';\nimport MaskedRange from './range.js';\nimport IMask from '../core/holder.js';\nimport { isString } from '../core/utils.js';\nimport '../core/change-details.js';\nimport './base.js';\nimport '../core/continuous-tail-details.js';\nimport './factory.js';\nimport './pattern/chunk-tail-details.js';\nimport './pattern/cursor.js';\nimport './pattern/fixed-definition.js';\nimport './pattern/input-definition.js';\nimport './regexp.js';\n\n/** Date mask */\nclass MaskedDate extends MaskedPattern {\n  static GET_DEFAULT_BLOCKS = () => ({\n    d: {\n      mask: MaskedRange,\n      from: 1,\n      to: 31,\n      maxLength: 2\n    },\n    m: {\n      mask: MaskedRange,\n      from: 1,\n      to: 12,\n      maxLength: 2\n    },\n    Y: {\n      mask: MaskedRange,\n      from: 1900,\n      to: 9999\n    }\n  });\n  static DEFAULTS = {\n    mask: Date,\n    pattern: 'd{.}`m{.}`Y',\n    format: (date, masked) => {\n      if (!date) return '';\n      const day = String(date.getDate()).padStart(2, '0');\n      const month = String(date.getMonth() + 1).padStart(2, '0');\n      const year = date.getFullYear();\n      return [day, month, year].join('.');\n    },\n    parse: (str, masked) => {\n      const [day, month, year] = str.split('.').map(Number);\n      return new Date(year, month - 1, day);\n    }\n  };\n  static extractPatternOptions(opts) {\n    const {\n      mask,\n      pattern,\n      ...patternOpts\n    } = opts;\n    return {\n      ...patternOpts,\n      mask: isString(mask) ? mask : pattern\n    };\n  }\n\n  /** Pattern mask for date according to {@link MaskedDate#format} */\n\n  /** Start date */\n\n  /** End date */\n\n  /** */\n\n  /** Format typed value to string */\n\n  /** Parse string to get typed value */\n\n  constructor(opts) {\n    super(MaskedDate.extractPatternOptions({\n      ...MaskedDate.DEFAULTS,\n      ...opts\n    }));\n  }\n  updateOptions(opts) {\n    super.updateOptions(opts);\n  }\n  _update(opts) {\n    const {\n      mask,\n      pattern,\n      blocks,\n      ...patternOpts\n    } = {\n      ...MaskedDate.DEFAULTS,\n      ...opts\n    };\n    const patternBlocks = Object.assign({}, MaskedDate.GET_DEFAULT_BLOCKS());\n    // adjust year block\n    if (opts.min) patternBlocks.Y.from = opts.min.getFullYear();\n    if (opts.max) patternBlocks.Y.to = opts.max.getFullYear();\n    if (opts.min && opts.max && patternBlocks.Y.from === patternBlocks.Y.to) {\n      patternBlocks.m.from = opts.min.getMonth() + 1;\n      patternBlocks.m.to = opts.max.getMonth() + 1;\n      if (patternBlocks.m.from === patternBlocks.m.to) {\n        patternBlocks.d.from = opts.min.getDate();\n        patternBlocks.d.to = opts.max.getDate();\n      }\n    }\n    Object.assign(patternBlocks, this.blocks, blocks);\n\n    // add autofix\n    Object.keys(patternBlocks).forEach(bk => {\n      const b = patternBlocks[bk];\n      if (!('autofix' in b) && 'autofix' in opts) b.autofix = opts.autofix;\n    });\n    super._update({\n      ...patternOpts,\n      mask: isString(mask) ? mask : pattern,\n      blocks: patternBlocks\n    });\n  }\n  doValidate(flags) {\n    const date = this.date;\n    return super.doValidate(flags) && (!this.isComplete || this.isDateExist(this.value) && date != null && (this.min == null || this.min <= date) && (this.max == null || date <= this.max));\n  }\n\n  /** Checks if date is exists */\n  isDateExist(str) {\n    return this.format(this.parse(str, this), this).indexOf(str) >= 0;\n  }\n\n  /** Parsed Date */\n  get date() {\n    return this.typedValue;\n  }\n  set date(date) {\n    this.typedValue = date;\n  }\n  get typedValue() {\n    return this.isComplete ? super.typedValue : null;\n  }\n  set typedValue(value) {\n    super.typedValue = value;\n  }\n  maskEquals(mask) {\n    return mask === Date || super.maskEquals(mask);\n  }\n  optionsIsChanged(opts) {\n    return super.optionsIsChanged(MaskedDate.extractPatternOptions(opts));\n  }\n}\nIMask.MaskedDate = MaskedDate;\n\nexport { MaskedDate as default };\n","import { objectIncludes, DIRECTION } from '../core/utils.js';\nimport ChangeDetails from '../core/change-details.js';\nimport createMask, { normalizeOpts } from './factory.js';\nimport Masked from './base.js';\nimport IMask from '../core/holder.js';\nimport '../core/continuous-tail-details.js';\n\n/** Dynamic mask for choosing appropriate mask in run-time */\nclass MaskedDynamic extends Masked {\n  static DEFAULTS;\n\n  /** Currently chosen mask */\n\n  /** Currently chosen mask */\n\n  /** Compliled {@link Masked} options */\n\n  /** Chooses {@link Masked} depending on input value */\n\n  constructor(opts) {\n    super({\n      ...MaskedDynamic.DEFAULTS,\n      ...opts\n    });\n    this.currentMask = undefined;\n  }\n  updateOptions(opts) {\n    super.updateOptions(opts);\n  }\n  _update(opts) {\n    super._update(opts);\n    if ('mask' in opts) {\n      this.exposeMask = undefined;\n      // mask could be totally dynamic with only `dispatch` option\n      this.compiledMasks = Array.isArray(opts.mask) ? opts.mask.map(m => {\n        const {\n          expose,\n          ...maskOpts\n        } = normalizeOpts(m);\n        const masked = createMask({\n          overwrite: this._overwrite,\n          eager: this._eager,\n          skipInvalid: this._skipInvalid,\n          ...maskOpts\n        });\n        if (expose) this.exposeMask = masked;\n        return masked;\n      }) : [];\n\n      // this.currentMask = this.doDispatch(''); // probably not needed but lets see\n    }\n  }\n  _appendCharRaw(ch, flags) {\n    if (flags === void 0) {\n      flags = {};\n    }\n    const details = this._applyDispatch(ch, flags);\n    if (this.currentMask) {\n      details.aggregate(this.currentMask._appendChar(ch, this.currentMaskFlags(flags)));\n    }\n    return details;\n  }\n  _applyDispatch(appended, flags, tail) {\n    if (appended === void 0) {\n      appended = '';\n    }\n    if (flags === void 0) {\n      flags = {};\n    }\n    if (tail === void 0) {\n      tail = '';\n    }\n    const prevValueBeforeTail = flags.tail && flags._beforeTailState != null ? flags._beforeTailState._value : this.value;\n    const inputValue = this.rawInputValue;\n    const insertValue = flags.tail && flags._beforeTailState != null ? flags._beforeTailState._rawInputValue : inputValue;\n    const tailValue = inputValue.slice(insertValue.length);\n    const prevMask = this.currentMask;\n    const details = new ChangeDetails();\n    const prevMaskState = prevMask?.state;\n\n    // clone flags to prevent overwriting `_beforeTailState`\n    this.currentMask = this.doDispatch(appended, {\n      ...flags\n    }, tail);\n\n    // restore state after dispatch\n    if (this.currentMask) {\n      if (this.currentMask !== prevMask) {\n        // if mask changed reapply input\n        this.currentMask.reset();\n        if (insertValue) {\n          const d = this.currentMask.append(insertValue, {\n            raw: true\n          });\n          details.tailShift = d.inserted.length - prevValueBeforeTail.length;\n        }\n        if (tailValue) {\n          details.tailShift += this.currentMask.append(tailValue, {\n            raw: true,\n            tail: true\n          }).tailShift;\n        }\n      } else if (prevMaskState) {\n        // Dispatch can do something bad with state, so\n        // restore prev mask state\n        this.currentMask.state = prevMaskState;\n      }\n    }\n    return details;\n  }\n  _appendPlaceholder() {\n    const details = this._applyDispatch();\n    if (this.currentMask) {\n      details.aggregate(this.currentMask._appendPlaceholder());\n    }\n    return details;\n  }\n  _appendEager() {\n    const details = this._applyDispatch();\n    if (this.currentMask) {\n      details.aggregate(this.currentMask._appendEager());\n    }\n    return details;\n  }\n  appendTail(tail) {\n    const details = new ChangeDetails();\n    if (tail) details.aggregate(this._applyDispatch('', {}, tail));\n    return details.aggregate(this.currentMask ? this.currentMask.appendTail(tail) : super.appendTail(tail));\n  }\n  currentMaskFlags(flags) {\n    return {\n      ...flags,\n      _beforeTailState: flags._beforeTailState?.currentMaskRef === this.currentMask && flags._beforeTailState?.currentMask || flags._beforeTailState\n    };\n  }\n  doDispatch(appended, flags, tail) {\n    if (flags === void 0) {\n      flags = {};\n    }\n    if (tail === void 0) {\n      tail = '';\n    }\n    return this.dispatch(appended, this, flags, tail);\n  }\n  doValidate(flags) {\n    return super.doValidate(flags) && (!this.currentMask || this.currentMask.doValidate(this.currentMaskFlags(flags)));\n  }\n  doPrepare(str, flags) {\n    if (flags === void 0) {\n      flags = {};\n    }\n    let [s, details] = super.doPrepare(str, flags);\n    if (this.currentMask) {\n      let currentDetails;\n      [s, currentDetails] = super.doPrepare(s, this.currentMaskFlags(flags));\n      details = details.aggregate(currentDetails);\n    }\n    return [s, details];\n  }\n  doPrepareChar(str, flags) {\n    if (flags === void 0) {\n      flags = {};\n    }\n    let [s, details] = super.doPrepareChar(str, flags);\n    if (this.currentMask) {\n      let currentDetails;\n      [s, currentDetails] = super.doPrepareChar(s, this.currentMaskFlags(flags));\n      details = details.aggregate(currentDetails);\n    }\n    return [s, details];\n  }\n  reset() {\n    this.currentMask?.reset();\n    this.compiledMasks.forEach(m => m.reset());\n  }\n  get value() {\n    return this.exposeMask ? this.exposeMask.value : this.currentMask ? this.currentMask.value : '';\n  }\n  set value(value) {\n    if (this.exposeMask) {\n      this.exposeMask.value = value;\n      this.currentMask = this.exposeMask;\n      this._applyDispatch();\n    } else super.value = value;\n  }\n  get unmaskedValue() {\n    return this.exposeMask ? this.exposeMask.unmaskedValue : this.currentMask ? this.currentMask.unmaskedValue : '';\n  }\n  set unmaskedValue(unmaskedValue) {\n    if (this.exposeMask) {\n      this.exposeMask.unmaskedValue = unmaskedValue;\n      this.currentMask = this.exposeMask;\n      this._applyDispatch();\n    } else super.unmaskedValue = unmaskedValue;\n  }\n  get typedValue() {\n    return this.exposeMask ? this.exposeMask.typedValue : this.currentMask ? this.currentMask.typedValue : '';\n  }\n  set typedValue(typedValue) {\n    if (this.exposeMask) {\n      this.exposeMask.typedValue = typedValue;\n      this.currentMask = this.exposeMask;\n      this._applyDispatch();\n      return;\n    }\n    let unmaskedValue = String(typedValue);\n\n    // double check it\n    if (this.currentMask) {\n      this.currentMask.typedValue = typedValue;\n      unmaskedValue = this.currentMask.unmaskedValue;\n    }\n    this.unmaskedValue = unmaskedValue;\n  }\n  get displayValue() {\n    return this.currentMask ? this.currentMask.displayValue : '';\n  }\n  get isComplete() {\n    return Boolean(this.currentMask?.isComplete);\n  }\n  get isFilled() {\n    return Boolean(this.currentMask?.isFilled);\n  }\n  remove(fromPos, toPos) {\n    const details = new ChangeDetails();\n    if (this.currentMask) {\n      details.aggregate(this.currentMask.remove(fromPos, toPos))\n      // update with dispatch\n      .aggregate(this._applyDispatch());\n    }\n    return details;\n  }\n  get state() {\n    return {\n      ...super.state,\n      _rawInputValue: this.rawInputValue,\n      compiledMasks: this.compiledMasks.map(m => m.state),\n      currentMaskRef: this.currentMask,\n      currentMask: this.currentMask?.state\n    };\n  }\n  set state(state) {\n    const {\n      compiledMasks,\n      currentMaskRef,\n      currentMask,\n      ...maskedState\n    } = state;\n    if (compiledMasks) this.compiledMasks.forEach((m, mi) => m.state = compiledMasks[mi]);\n    if (currentMaskRef != null) {\n      this.currentMask = currentMaskRef;\n      this.currentMask.state = currentMask;\n    }\n    super.state = maskedState;\n  }\n  extractInput(fromPos, toPos, flags) {\n    return this.currentMask ? this.currentMask.extractInput(fromPos, toPos, flags) : '';\n  }\n  extractTail(fromPos, toPos) {\n    return this.currentMask ? this.currentMask.extractTail(fromPos, toPos) : super.extractTail(fromPos, toPos);\n  }\n  doCommit() {\n    if (this.currentMask) this.currentMask.doCommit();\n    super.doCommit();\n  }\n  nearestInputPos(cursorPos, direction) {\n    return this.currentMask ? this.currentMask.nearestInputPos(cursorPos, direction) : super.nearestInputPos(cursorPos, direction);\n  }\n  get overwrite() {\n    return this.currentMask ? this.currentMask.overwrite : this._overwrite;\n  }\n  set overwrite(overwrite) {\n    this._overwrite = overwrite;\n  }\n  get eager() {\n    return this.currentMask ? this.currentMask.eager : this._eager;\n  }\n  set eager(eager) {\n    this._eager = eager;\n  }\n  get skipInvalid() {\n    return this.currentMask ? this.currentMask.skipInvalid : this._skipInvalid;\n  }\n  set skipInvalid(skipInvalid) {\n    this._skipInvalid = skipInvalid;\n  }\n  maskEquals(mask) {\n    return Array.isArray(mask) ? this.compiledMasks.every((m, mi) => {\n      if (!mask[mi]) return;\n      const {\n        mask: oldMask,\n        ...restOpts\n      } = mask[mi];\n      return objectIncludes(m, restOpts) && m.maskEquals(oldMask);\n    }) : super.maskEquals(mask);\n  }\n  typedValueEquals(value) {\n    return Boolean(this.currentMask?.typedValueEquals(value));\n  }\n}\nMaskedDynamic.DEFAULTS = {\n  dispatch: (appended, masked, flags, tail) => {\n    if (!masked.compiledMasks.length) return;\n    const inputValue = masked.rawInputValue;\n\n    // simulate input\n    const inputs = masked.compiledMasks.map((m, index) => {\n      const isCurrent = masked.currentMask === m;\n      const startInputPos = isCurrent ? m.displayValue.length : m.nearestInputPos(m.displayValue.length, DIRECTION.FORCE_LEFT);\n      if (m.rawInputValue !== inputValue) {\n        m.reset();\n        m.append(inputValue, {\n          raw: true\n        });\n      } else if (!isCurrent) {\n        m.remove(startInputPos);\n      }\n      m.append(appended, masked.currentMaskFlags(flags));\n      m.appendTail(tail);\n      return {\n        index,\n        weight: m.rawInputValue.length,\n        totalInputPositions: m.totalInputPositions(0, Math.max(startInputPos, m.nearestInputPos(m.displayValue.length, DIRECTION.FORCE_LEFT)))\n      };\n    });\n\n    // pop masks with longer values first\n    inputs.sort((i1, i2) => i2.weight - i1.weight || i2.totalInputPositions - i1.totalInputPositions);\n    return masked.compiledMasks[inputs[0].index];\n  }\n};\nIMask.MaskedDynamic = MaskedDynamic;\n\nexport { MaskedDynamic as default };\n","import MaskedPattern from './pattern.js';\nimport IMask from '../core/holder.js';\nimport '../core/change-details.js';\nimport '../core/utils.js';\nimport './base.js';\nimport '../core/continuous-tail-details.js';\nimport './factory.js';\nimport './pattern/chunk-tail-details.js';\nimport './pattern/cursor.js';\nimport './pattern/fixed-definition.js';\nimport './pattern/input-definition.js';\nimport './regexp.js';\n\n/** Pattern which validates enum values */\nclass MaskedEnum extends MaskedPattern {\n  constructor(opts) {\n    super(opts); // mask will be created in _update\n  }\n  updateOptions(opts) {\n    super.updateOptions(opts);\n  }\n  _update(opts) {\n    const {\n      enum: _enum,\n      ...eopts\n    } = opts;\n    if (_enum) {\n      const lengths = _enum.map(e => e.length);\n      const requiredLength = Math.min(...lengths);\n      const optionalLength = Math.max(...lengths) - requiredLength;\n      eopts.mask = '*'.repeat(requiredLength);\n      if (optionalLength) eopts.mask += '[' + '*'.repeat(optionalLength) + ']';\n      this.enum = _enum;\n    }\n    super._update(eopts);\n  }\n  doValidate(flags) {\n    return this.enum.some(e => e.indexOf(this.unmaskedValue) === 0) && super.doValidate(flags);\n  }\n}\nIMask.MaskedEnum = MaskedEnum;\n\nexport { MaskedEnum as default };\n","import Masked from './base.js';\nimport IMask from '../core/holder.js';\nimport '../core/change-details.js';\nimport '../core/continuous-tail-details.js';\nimport '../core/utils.js';\n\n/** Masking by custom Function */\nclass MaskedFunction extends Masked {\n  /** */\n\n  /** Enable characters overwriting */\n\n  /** */\n\n  /** */\n\n  updateOptions(opts) {\n    super.updateOptions(opts);\n  }\n  _update(opts) {\n    super._update({\n      ...opts,\n      validate: opts.mask\n    });\n  }\n}\nIMask.MaskedFunction = MaskedFunction;\n\nexport { MaskedFunction as default };\n","import { escapeRegExp, DIRECTION } from '../core/utils.js';\nimport ChangeDetails from '../core/change-details.js';\nimport Masked from './base.js';\nimport IMask from '../core/holder.js';\nimport '../core/continuous-tail-details.js';\n\n/** Number mask */\nclass MaskedNumber extends Masked {\n  static UNMASKED_RADIX = '.';\n  static EMPTY_VALUES = [...Masked.EMPTY_VALUES, 0];\n  static DEFAULTS = {\n    mask: Number,\n    radix: ',',\n    thousandsSeparator: '',\n    mapToRadix: [MaskedNumber.UNMASKED_RADIX],\n    min: Number.MIN_SAFE_INTEGER,\n    max: Number.MAX_SAFE_INTEGER,\n    scale: 2,\n    normalizeZeros: true,\n    padFractionalZeros: false,\n    parse: Number,\n    format: n => n.toLocaleString('en-US', {\n      useGrouping: false,\n      maximumFractionDigits: 20\n    })\n  };\n\n  /** Single char */\n\n  /** Single char */\n\n  /** Array of single chars */\n\n  /** */\n\n  /** */\n\n  /** Digits after point */\n\n  /** Flag to remove leading and trailing zeros in the end of editing */\n\n  /** Flag to pad trailing zeros after point in the end of editing */\n\n  /** Enable characters overwriting */\n\n  /** */\n\n  /** */\n\n  /** Format typed value to string */\n\n  /** Parse string to get typed value */\n\n  constructor(opts) {\n    super({\n      ...MaskedNumber.DEFAULTS,\n      ...opts\n    });\n  }\n  updateOptions(opts) {\n    super.updateOptions(opts);\n  }\n  _update(opts) {\n    super._update(opts);\n    this._updateRegExps();\n  }\n  _updateRegExps() {\n    const start = '^' + (this.allowNegative ? '[+|\\\\-]?' : '');\n    const mid = '\\\\d*';\n    const end = (this.scale ? `(${escapeRegExp(this.radix)}\\\\d{0,${this.scale}})?` : '') + '$';\n    this._numberRegExp = new RegExp(start + mid + end);\n    this._mapToRadixRegExp = new RegExp(`[${this.mapToRadix.map(escapeRegExp).join('')}]`, 'g');\n    this._thousandsSeparatorRegExp = new RegExp(escapeRegExp(this.thousandsSeparator), 'g');\n  }\n  _removeThousandsSeparators(value) {\n    return value.replace(this._thousandsSeparatorRegExp, '');\n  }\n  _insertThousandsSeparators(value) {\n    // https://stackoverflow.com/questions/2901102/how-to-print-a-number-with-commas-as-thousands-separators-in-javascript\n    const parts = value.split(this.radix);\n    parts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, this.thousandsSeparator);\n    return parts.join(this.radix);\n  }\n  doPrepareChar(ch, flags) {\n    if (flags === void 0) {\n      flags = {};\n    }\n    const [prepCh, details] = super.doPrepareChar(this._removeThousandsSeparators(this.scale && this.mapToRadix.length && (\n    /*\n      radix should be mapped when\n      1) input is done from keyboard = flags.input && flags.raw\n      2) unmasked value is set = !flags.input && !flags.raw\n      and should not be mapped when\n      1) value is set = flags.input && !flags.raw\n      2) raw value is set = !flags.input && flags.raw\n    */\n    flags.input && flags.raw || !flags.input && !flags.raw) ? ch.replace(this._mapToRadixRegExp, this.radix) : ch), flags);\n    if (ch && !prepCh) details.skip = true;\n    if (prepCh && !this.allowPositive && !this.value && prepCh !== '-') details.aggregate(this._appendChar('-'));\n    return [prepCh, details];\n  }\n  _separatorsCount(to, extendOnSeparators) {\n    if (extendOnSeparators === void 0) {\n      extendOnSeparators = false;\n    }\n    let count = 0;\n    for (let pos = 0; pos < to; ++pos) {\n      if (this._value.indexOf(this.thousandsSeparator, pos) === pos) {\n        ++count;\n        if (extendOnSeparators) to += this.thousandsSeparator.length;\n      }\n    }\n    return count;\n  }\n  _separatorsCountFromSlice(slice) {\n    if (slice === void 0) {\n      slice = this._value;\n    }\n    return this._separatorsCount(this._removeThousandsSeparators(slice).length, true);\n  }\n  extractInput(fromPos, toPos, flags) {\n    if (fromPos === void 0) {\n      fromPos = 0;\n    }\n    if (toPos === void 0) {\n      toPos = this.displayValue.length;\n    }\n    [fromPos, toPos] = this._adjustRangeWithSeparators(fromPos, toPos);\n    return this._removeThousandsSeparators(super.extractInput(fromPos, toPos, flags));\n  }\n  _appendCharRaw(ch, flags) {\n    if (flags === void 0) {\n      flags = {};\n    }\n    if (!this.thousandsSeparator) return super._appendCharRaw(ch, flags);\n    const prevBeforeTailValue = flags.tail && flags._beforeTailState ? flags._beforeTailState._value : this._value;\n    const prevBeforeTailSeparatorsCount = this._separatorsCountFromSlice(prevBeforeTailValue);\n    this._value = this._removeThousandsSeparators(this.value);\n    const appendDetails = super._appendCharRaw(ch, flags);\n    this._value = this._insertThousandsSeparators(this._value);\n    const beforeTailValue = flags.tail && flags._beforeTailState ? flags._beforeTailState._value : this._value;\n    const beforeTailSeparatorsCount = this._separatorsCountFromSlice(beforeTailValue);\n    appendDetails.tailShift += (beforeTailSeparatorsCount - prevBeforeTailSeparatorsCount) * this.thousandsSeparator.length;\n    appendDetails.skip = !appendDetails.rawInserted && ch === this.thousandsSeparator;\n    return appendDetails;\n  }\n  _findSeparatorAround(pos) {\n    if (this.thousandsSeparator) {\n      const searchFrom = pos - this.thousandsSeparator.length + 1;\n      const separatorPos = this.value.indexOf(this.thousandsSeparator, searchFrom);\n      if (separatorPos <= pos) return separatorPos;\n    }\n    return -1;\n  }\n  _adjustRangeWithSeparators(from, to) {\n    const separatorAroundFromPos = this._findSeparatorAround(from);\n    if (separatorAroundFromPos >= 0) from = separatorAroundFromPos;\n    const separatorAroundToPos = this._findSeparatorAround(to);\n    if (separatorAroundToPos >= 0) to = separatorAroundToPos + this.thousandsSeparator.length;\n    return [from, to];\n  }\n  remove(fromPos, toPos) {\n    if (fromPos === void 0) {\n      fromPos = 0;\n    }\n    if (toPos === void 0) {\n      toPos = this.displayValue.length;\n    }\n    [fromPos, toPos] = this._adjustRangeWithSeparators(fromPos, toPos);\n    const valueBeforePos = this.value.slice(0, fromPos);\n    const valueAfterPos = this.value.slice(toPos);\n    const prevBeforeTailSeparatorsCount = this._separatorsCount(valueBeforePos.length);\n    this._value = this._insertThousandsSeparators(this._removeThousandsSeparators(valueBeforePos + valueAfterPos));\n    const beforeTailSeparatorsCount = this._separatorsCountFromSlice(valueBeforePos);\n    return new ChangeDetails({\n      tailShift: (beforeTailSeparatorsCount - prevBeforeTailSeparatorsCount) * this.thousandsSeparator.length\n    });\n  }\n  nearestInputPos(cursorPos, direction) {\n    if (!this.thousandsSeparator) return cursorPos;\n    switch (direction) {\n      case DIRECTION.NONE:\n      case DIRECTION.LEFT:\n      case DIRECTION.FORCE_LEFT:\n        {\n          const separatorAtLeftPos = this._findSeparatorAround(cursorPos - 1);\n          if (separatorAtLeftPos >= 0) {\n            const separatorAtLeftEndPos = separatorAtLeftPos + this.thousandsSeparator.length;\n            if (cursorPos < separatorAtLeftEndPos || this.value.length <= separatorAtLeftEndPos || direction === DIRECTION.FORCE_LEFT) {\n              return separatorAtLeftPos;\n            }\n          }\n          break;\n        }\n      case DIRECTION.RIGHT:\n      case DIRECTION.FORCE_RIGHT:\n        {\n          const separatorAtRightPos = this._findSeparatorAround(cursorPos);\n          if (separatorAtRightPos >= 0) {\n            return separatorAtRightPos + this.thousandsSeparator.length;\n          }\n        }\n    }\n    return cursorPos;\n  }\n  doValidate(flags) {\n    // validate as string\n    let valid = Boolean(this._removeThousandsSeparators(this.value).match(this._numberRegExp));\n    if (valid) {\n      // validate as number\n      const number = this.number;\n      valid = valid && !isNaN(number) && (\n      // check min bound for negative values\n      this.min == null || this.min >= 0 || this.min <= this.number) && (\n      // check max bound for positive values\n      this.max == null || this.max <= 0 || this.number <= this.max);\n    }\n    return valid && super.doValidate(flags);\n  }\n  doCommit() {\n    if (this.value) {\n      const number = this.number;\n      let validnum = number;\n\n      // check bounds\n      if (this.min != null) validnum = Math.max(validnum, this.min);\n      if (this.max != null) validnum = Math.min(validnum, this.max);\n      if (validnum !== number) this.unmaskedValue = this.format(validnum, this);\n      let formatted = this.value;\n      if (this.normalizeZeros) formatted = this._normalizeZeros(formatted);\n      if (this.padFractionalZeros && this.scale > 0) formatted = this._padFractionalZeros(formatted);\n      this._value = formatted;\n    }\n    super.doCommit();\n  }\n  _normalizeZeros(value) {\n    const parts = this._removeThousandsSeparators(value).split(this.radix);\n\n    // remove leading zeros\n    parts[0] = parts[0].replace(/^(\\D*)(0*)(\\d*)/, (match, sign, zeros, num) => sign + num);\n    // add leading zero\n    if (value.length && !/\\d$/.test(parts[0])) parts[0] = parts[0] + '0';\n    if (parts.length > 1) {\n      parts[1] = parts[1].replace(/0*$/, ''); // remove trailing zeros\n      if (!parts[1].length) parts.length = 1; // remove fractional\n    }\n    return this._insertThousandsSeparators(parts.join(this.radix));\n  }\n  _padFractionalZeros(value) {\n    if (!value) return value;\n    const parts = value.split(this.radix);\n    if (parts.length < 2) parts.push('');\n    parts[1] = parts[1].padEnd(this.scale, '0');\n    return parts.join(this.radix);\n  }\n  doSkipInvalid(ch, flags, checkTail) {\n    if (flags === void 0) {\n      flags = {};\n    }\n    const dropFractional = this.scale === 0 && ch !== this.thousandsSeparator && (ch === this.radix || ch === MaskedNumber.UNMASKED_RADIX || this.mapToRadix.includes(ch));\n    return super.doSkipInvalid(ch, flags, checkTail) && !dropFractional;\n  }\n  get unmaskedValue() {\n    return this._removeThousandsSeparators(this._normalizeZeros(this.value)).replace(this.radix, MaskedNumber.UNMASKED_RADIX);\n  }\n  set unmaskedValue(unmaskedValue) {\n    super.unmaskedValue = unmaskedValue;\n  }\n  get typedValue() {\n    return this.parse(this.unmaskedValue, this);\n  }\n  set typedValue(n) {\n    this.rawInputValue = this.format(n, this).replace(MaskedNumber.UNMASKED_RADIX, this.radix);\n  }\n\n  /** Parsed Number */\n  get number() {\n    return this.typedValue;\n  }\n  set number(number) {\n    this.typedValue = number;\n  }\n\n  /**\n    Is negative allowed\n  */\n  get allowNegative() {\n    return this.min != null && this.min < 0 || this.max != null && this.max < 0;\n  }\n\n  /**\n    Is positive allowed\n  */\n  get allowPositive() {\n    return this.min != null && this.min > 0 || this.max != null && this.max > 0;\n  }\n  typedValueEquals(value) {\n    // handle  0 -> '' case (typed = 0 even if value = '')\n    // for details see https://github.com/uNmAnNeR/imaskjs/issues/134\n    return (super.typedValueEquals(value) || MaskedNumber.EMPTY_VALUES.includes(value) && MaskedNumber.EMPTY_VALUES.includes(this.typedValue)) && !(value === 0 && this.value === '');\n  }\n}\nIMask.MaskedNumber = MaskedNumber;\n\nexport { MaskedNumber as default };\n","import createMask from './factory.js';\nimport IMask from '../core/holder.js';\nimport '../core/utils.js';\n\n/** Mask pipe source and destination types */\nconst PIPE_TYPE = {\n  MASKED: 'value',\n  UNMASKED: 'unmaskedValue',\n  TYPED: 'typedValue'\n};\n/** Creates new pipe function depending on mask type, source and destination options */\nfunction createPipe(arg, from, to) {\n  if (from === void 0) {\n    from = PIPE_TYPE.MASKED;\n  }\n  if (to === void 0) {\n    to = PIPE_TYPE.MASKED;\n  }\n  const masked = createMask(arg);\n  return value => masked.runIsolated(m => {\n    m[from] = value;\n    return m[to];\n  });\n}\n\n/** Pipes value through mask depending on mask type, source and destination options */\nfunction pipe(value, mask, from, to) {\n  return createPipe(mask, from, to)(value);\n}\nIMask.PIPE_TYPE = PIPE_TYPE;\nIMask.createPipe = createPipe;\nIMask.pipe = pipe;\n\nexport { PIPE_TYPE, createPipe, pipe };\n","export { default as InputMask } from './controls/input.js';\nimport IMask from './core/holder.js';\nexport { default as HTMLContenteditableMaskElement } from './controls/html-contenteditable-mask-element.js';\nexport { default as HTMLInputMaskElement } from './controls/html-input-mask-element.js';\nexport { default as HTMLMaskElement } from './controls/html-mask-element.js';\nexport { default as MaskElement } from './controls/mask-element.js';\nexport { default as ChangeDetails } from './core/change-details.js';\nexport { DIRECTION, forceDirection } from './core/utils.js';\nexport { default as Masked } from './masked/base.js';\nexport { default as MaskedDate } from './masked/date.js';\nexport { default as MaskedDynamic } from './masked/dynamic.js';\nexport { default as MaskedEnum } from './masked/enum.js';\nexport { default as createMask, normalizeOpts } from './masked/factory.js';\nexport { default as MaskedFunction } from './masked/function.js';\nexport { default as MaskedNumber } from './masked/number.js';\nexport { default as MaskedPattern } from './masked/pattern.js';\nexport { default as ChunksTailDetails } from './masked/pattern/chunk-tail-details.js';\nexport { default as PatternFixedDefinition } from './masked/pattern/fixed-definition.js';\nexport { default as PatternInputDefinition } from './masked/pattern/input-definition.js';\nexport { PIPE_TYPE, createPipe, pipe } from './masked/pipe.js';\nexport { default as MaskedRange } from './masked/range.js';\nexport { default as MaskedRegExp } from './masked/regexp.js';\nimport './core/action-details.js';\nimport './core/continuous-tail-details.js';\nimport './masked/pattern/cursor.js';\n\ntry {\n  globalThis.IMask = IMask;\n} catch {}\n\nexport { IMask as default };\n"],"names":["module","exports","e","t","n","r","s","o","u","i","f","Error","code","l","call","length","require","getOwnPropertySymbols","Object","hasOwnProperty","prototype","propIsEnumerable","propertyIsEnumerable","assign","test1","String","getOwnPropertyNames","test2","fromCharCode","map","join","test3","split","forEach","letter","keys","err","shouldUseNative","target","source","from","symbols","to","val","TypeError","toObject","arguments","key","process","getNanoSeconds","hrtime","loadTime","moduleLoadTime","nodeLoadTime","upTime","performance","now","hr","uptime","Date","getTime","this","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","setTimeout","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","concat","drainQueue","timeout","len","run","marker","runClearTimeout","Item","array","noop","nextTick","args","Array","push","apply","title","browser","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","name","binding","cwd","chdir","dir","umask","global","root","window","vendors","suffix","raf","caf","last","id","callback","_now","next","Math","max","cp","slice","cancelled","round","handle","fn","cancel","polyfill","requestAnimationFrame","cancelAnimationFrame","g","self","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","defineProperty","Constructor","protoProps","staticProps","rqAnFr","objectAssign","helpers","propertyCache","clamp","value","min","data","element","deserialize","getAttribute","isNaN","parseFloat","isFinite","camelCase","replace","match","character","toUpperCase","accelerate","css","transformSupport","document","createElement","propertySupport","propertyValue","featureSupport","cssProperty","jsProperty","undefined","style","body","documentElement","documentOverflow","overflow","isCreatedBody","appendChild","background","getComputedStyle","getPropertyValue","removeChild","removeAttribute","parentNode","property","DEFAULTS","relativeInput","clipRelativeInput","inputElement","hoverOnly","calibrationThreshold","calibrationDelay","supportDelay","calibrateX","calibrateY","invertX","invertY","limitX","limitY","scalarX","scalarY","frictionX","frictionY","originX","originY","pointerEvents","precision","onReady","selector","Parallax","options","instance","_classCallCheck","querySelector","calibrationTimer","calibrationFlag","enabled","depthsX","depthsY","bounds","elementPositionX","elementPositionY","elementWidth","elementHeight","elementCenterX","elementCenterY","elementRangeX","elementRangeY","calibrationX","calibrationY","inputX","inputY","motionX","motionY","velocityX","velocityY","onMouseMove","bind","onDeviceOrientation","onDeviceMotion","onOrientationTimer","onMotionTimer","onCalibrationTimer","onAnimationFrame","onWindowResize","windowWidth","windowHeight","windowCenterX","windowCenterY","windowRadiusX","windowRadiusY","portrait","desktop","navigator","userAgent","motionSupport","DeviceMotionEvent","orientationSupport","DeviceOrientationEvent","orientationStatus","motionStatus","initialise","transform2DSupport","transform3DSupport","position","updateLayers","updateDimensions","enable","queueCalibration","layers","querySelectorAll","children","console","warn","index","layer","display","left","top","depth","innerWidth","innerHeight","getBoundingClientRect","width","height","delay","addEventListener","detectionTimer","doReadyCallback","removeEventListener","x","y","toFixed","disable","updateBounds","calibratedInputX","calibratedInputY","abs","depthX","depthY","xOffset","yOffset","setPosition","beta","gamma","event","rotate","rotationRate","clientX","clientY","_defineProperties","_defineProperty","obj","_arrayLikeToArray","arr","arr2","_toConsumableArray","isArray","iter","Symbol","iterator","minLen","toString","constructor","test","_typeof","_toPropertyKey","arg","input","hint","prim","toPrimitive","res","isString","str","isObject","pick","_","k","includes","entries","reduce","acc","_ref","v","DIRECTION","escapeRegExp","objectIncludes","b","a","arrA","arrB","dateA","dateB","regexpA","RegExp","regexpB","ActionDetails","opts","startChangePos","oldValue","oldSelection","start","cursorPos","end","insertedCount","inserted","substr","removedCount","removed","head","substring","tail","removeDirection","IMask","el","InputMask","maskedClass","mask","MaskedRegExp","MaskedPattern","MaskedDate","Number","MaskedNumber","MaskedDynamic","Masked","Function","MaskedFunction","normalizeOpts","instanceOpts","_mask","startsWith","createMask","nOpts","MaskedClass","MaskElement","selectionStart","_unsafeSelectionStart","selectionEnd","_unsafeSelectionEnd","select","_unsafeSelect","isActive","HTMLMaskElement","static","selectionChange","drop","click","focus","commit","super","_handlers","rootElement","getRootNode","activeElement","bindEvents","handlers","_toggleEventHandler","EVENTS_MAP","unbindEvents","handler","HTMLInputMaskElement","setSelectionRange","HTMLContenteditableMaskElement","selection","getSelection","anchorOffset","focusOffset","createRange","range","setStart","firstChild","setEnd","lastChild","removeAllRanges","addRange","textContent","isContentEditable","tagName","masked","_listeners","_value","_unmaskedValue","_saveSelection","_onInput","_onChange","_onDrop","_onFocus","_onClick","alignCursor","alignCursorFriendly","_bindEvents","updateValue","maskEquals","updateOptions","unmaskedValue","updateControl","typedValue","typedValueEquals","displayValue","_unbindEvents","_fireEvent","ev","_cursorChanging","_changingCursorPos","pos","_selection","newUnmaskedValue","newValue","newDisplayValue","isChanged","_fireChangeEvents","restOpts","updateMask","updateOpts","optionsIsChanged","updateCursor","_delayUpdateCursor","_abortUpdateCursor","_inputEvent","isComplete","nearestInputPos","hIndex","indexOf","splice","details","oldRawValue","rawInputValue","offset","raw","doCommit","preventDefault","stopPropagation","destroy","ChangeDetails","prep","rawInserted","skip","tailShift","aggregate","ContinuousTailDetails","stop","extend","appendTo","append","_appendPlaceholder","state","unshift","beforePos","shiftChar","shift","skipInvalid","_update","_initialized","withValueRefresh","_rawInputValue","reset","resolve","flags","parse","format","extractInput","isFilled","direction","totalInputPositions","fromPos","toPos","extractTail","appendTail","_appendCharRaw","ch","_appendChar","checkTail","consistentState","doPrepareChar","consistentTail","appended","doValidate","beforeTailState","overwrite","tailDetails","_appendEager","_beforeTailState","doPrepare","ci","d","doSkipInvalid","eager","remove","_refreshing","rawInput","ret","runIsolated","_isolated","Boolean","normalize","prepare","prepareChar","validate","parent","deleteCount","tailPos","eagerRemove","forceDirection","valLength","tval","EMPTY_VALUES","ChunksTailDetails","chunks","tailChunk","lastChunk","extendLast","firstTailChunk","blockIndex","chunk","lastBlockIter","_mapPosToBlock","chunkBlock","_stops","phDetails","_blocks","remainChars","c","cstate","chunkShiftPos","PatternCursor","_log","ok","block","_blockStartPos","pushState","popState","pop","bindBlock","_pushLeft","_pushRight","pushLeftBeforeFilled","isFixed","pushLeftBeforeInput","pushLeftBeforeRequired","isOptional","pushRightBeforeFilled","pushRightBeforeInput","pushRightBeforeRequired","PatternFixedDefinition","isUnmasking","_isRawInput","maxPos","appendEager","isResolved","char","PatternInputDefinition","placeholderChar","displayChar","lazy","maskOpts","currentMaskFlags","boundPos","search","definitions","DEFAULT_DEFINITIONS","_rebuildMask","defs","exposeBlock","_maskedBlocks","pattern","unmaskingBlock","optionalBlock","blocks","p","bNames","filter","bName","sort","expose","blockOpts","maskedBlock","isInput","STOP_CHAR","ESCAPE_CHAR","def","maskedState","bi","every","startBlockIndex","blockIter","blockDetails","chunkTail","_forEachBlocksInRange","bFromPos","bToPos","blockChunk","_findStopBefore","stopBefore","si","toBlockIndex","startBlockIter","endBlockIndex","bDetails","accVal","blockStartPos","fromBlockIter","toBlockIter","isSameBlock","fromBlockStartPos","fromBlockEndPos","removeDetails","cursor","total","maskedBlocks","indices","gi","MaskedRange","_matchFrom","maxLength","autofix","patternOpts","fromStr","padStart","toStr","sameCharsCount","repeat","boundaries","minstr","maxstr","placeholder","num","padEnd","nextVal","m","Y","date","getDate","getMonth","getFullYear","day","month","year","extractPatternOptions","patternBlocks","GET_DEFAULT_BLOCKS","bk","isDateExist","currentMask","exposeMask","compiledMasks","_overwrite","_eager","_skipInvalid","_applyDispatch","prevValueBeforeTail","inputValue","insertValue","tailValue","prevMask","prevMaskState","doDispatch","currentMaskRef","dispatch","currentDetails","mi","oldMask","inputs","isCurrent","startInputPos","weight","i1","i2","MaskedEnum","enum","_enum","eopts","lengths","requiredLength","optionalLength","some","radix","thousandsSeparator","mapToRadix","UNMASKED_RADIX","MIN_SAFE_INTEGER","MAX_SAFE_INTEGER","scale","normalizeZeros","padFractionalZeros","toLocaleString","useGrouping","maximumFractionDigits","_updateRegExps","allowNegative","_numberRegExp","_mapToRadixRegExp","_thousandsSeparatorRegExp","_removeThousandsSeparators","_insertThousandsSeparators","parts","prepCh","allowPositive","_separatorsCount","extendOnSeparators","count","_separatorsCountFromSlice","_adjustRangeWithSeparators","prevBeforeTailValue","prevBeforeTailSeparatorsCount","appendDetails","beforeTailValue","beforeTailSeparatorsCount","_findSeparatorAround","searchFrom","separatorPos","separatorAroundFromPos","separatorAroundToPos","valueBeforePos","valueAfterPos","separatorAtLeftPos","separatorAtLeftEndPos","separatorAtRightPos","valid","number","validnum","formatted","_normalizeZeros","_padFractionalZeros","sign","zeros","dropFractional","PIPE_TYPE","MASKED","UNMASKED","TYPED","createPipe","pipe","globalThis"],"sourceRoot":""}